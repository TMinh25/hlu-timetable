{"version":3,"sources":["timetable-config.js","utils.jsx","firebase.js","providers/UserProvider.jsx","logo.svg","components/Components.jsx","components/NavBar.js","components/LeftMenu.js","components/screens/Homepage/HeroImage.js","components/screens/Homepage/FeaturedUser.js","components/screens/Homepage/unknownUser.jpg","components/screens/Homepage/uhl.jpg","components/screens/Homepage/NTM.jpg","components/screens/Homepage/LAT.jpg","components/screens/Homepage/Home.js","components/screens/TimeTableNew.js","components/screens/TeacherTimeTable.js","components/screens/ScheduleTimeTable.js","components/screens/management/FormFaculties.jsx","components/screens/management/ManageFaculties.js","components/screens/management/FormLectures.jsx","components/screens/management/ManageLectures.js","components/screens/management/FormSubjects.jsx","components/screens/management/ManageSubjects.js","components/screens/TimeTables.js","components/screens/NotFound.jsx","components/screens/timetable/provider/SemProvider.jsx","components/screens/management/FormClassManage.jsx","components/screens/management/ManageClass.jsx","components/screens/management/NumbericEditor.js","components/screens/management/ManageAssigments.jsx","components/screens/timetable/AppointmentLimiter.js","components/screens/timetable/TimeTable.jsx","components/Application.jsx","App.js","index.js"],"names":["holidays","map","holiday","console","log","Object","freeze","name","name_local","date","moment","readExcel","file","headers","Promise","resolve","reject","fileReader","FileReader","readAsArrayBuffer","onload","e","bufferArray","target","result","wb","XLSX","type","wsname","SheetNames","ws","Sheets","data","sheet_to_json","header","raw","blankrows","defval","slice","length","onerror","error","addScheduleSheet","workSheet","isLecture","style","alignment","wrapText","vertical","horizontal","getRow","values","columns","key","width","protection","slot","slottime","mon","tue","wed","thu","fri","sat","sun","forEach","item","index","addRow","mergeCells","getRows","row","i","getCell","border","top","left","bottom","right","slots","getColumn","title","startDate","startSlot","endSlot","classTeaching","lectureTeaching","weekCount","addScheduleCell","column","mergeCell","push","value","startMergeCell","endMergeCell","get","titleCase","str","splitStr","toLowerCase","split","charAt","toUpperCase","substring","join","defaultSuccessCB","msg","toast","success","defaultFailCB","err","getFacID","facName","exists","toString","trim","word","x","undefined","validNumber","num","Number","isInteger","selectAllOnFocus","event","select","getHeaderRow","C","range","decode_range","R","s","r","c","cell","encode_cell","hdr","t","format_cell","isRoundNumber","numb","getStartTime","momentInput","classTime","time","set","hour","minute","getStartTimeSlot","format","getEndTime","getEndTimeSlot","getTime","isValidTimeSlot","endDate","momentInputStart","momentInputEnd","timeFormat","startFormat","endFormat","startTime","endTime","isValidTime","isBetween","isSameOrAfter","isAfter","isBefore","isSameOrBefore","isDayValid","startDate2","isSame","isValidDay","isValidHour","isValidSession","exDateHolidaysString","exDate","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","database","userRef","userID","ref","semRef","semID","currentUser","uid","classRef","classID","signInWithGoogle","googleAuthProvider","GoogleAuthProvider","setCustomParameters","prompt","signInWithPopup","getClass","onAuthStateChanged","user","child","on","snapshot","val","getAllClasses","newClass","keys","warn","message","getAllFaculties","setNewFaculty","failCB","facID","removeFaculty","id","successCB","remove","getLecture","lectureID","once","getAllLectures","newLecture","getAllSubjects","getAssignmentsOfLecture","currentLectureID","getAssignmentsOfClass","a","assignments","assignmentsArray","assignment","numberOfWeeks","allClasses","allLectures","assignmentValue","numberOfClassPerWeek","Math","ceil","periods","numberOfClassPWeek1","numberOfClassPWeek2","floor","assignmentValue2","setScheduleArray","getClassScheduleArray","getLectureScheduleArray","scheduleArray","classVal","classSchedule","schedule","lectureScheduleInClass","concat","UserContext","createContext","UserProvider","componentDidMount","setUser","state","newUser","setState","Provider","this","props","children","Component","Logo","to","onClick","className","src","logo","alt","Loading","LinkButton","fixedClassName","Button","DropDownHoverButton","onMenuClick","item1","item1Link","item2","item2Link","item3","item3Link","item4","item4Link","item5","item5Link","FileDropzone","handleDropped","excelLoadedItems","handleDownloadTemplateFile","onDrop","useCallback","acceptedFiles","fileRejections","useDropzone","accept","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","height","borderColor","marginBottom","Tab","label","activeTab","React","NavBar","onLogoClick","onHamburgerClick","showHamburger","useContext","useState","showModule","setShowModule","useEffect","NavModule","onClickOutsideListener","document","removeEventListener","onMouseLeave","addEventListener","photoURL","displayName","email","then","window","location","href","callback","signOut","catch","IconButton","cursor","prevState","color","LeftMenu","visible","calendarOnChange","calendarValue","showScheduler","onChange","locale","showNeighboringMonth","nextLabel","next2Label","prevLabel","prev2Label","class","useStyles","makeStyles","theme","mainFeaturedPost","position","backgroundColor","palette","grey","common","white","spacing","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","mainFeaturedPostContent","padding","breakpoints","up","paddingRight","MainFeaturedPost","classes","post","CardActionArea","component","link","Paper","image","minHeight","display","imageText","Grid","container","md","Typography","variant","gutterBottom","paragraph","description","card","cardDetails","flex","cardMedia","FeaturedPost","xs","Card","CardContent","Hidden","xsDown","CardMedia","imageTitle","uhl","featuredPosts","NTM","LAT","Home","CssBaseline","Container","maxWidth","align","justifyContent","alignItems","margin","fontFamily","fontSize","TimeTableNew","navigate","useNavigate","defaultFormat","calendarStartValue","onStartValueChange","calendarEndValue","onEndValueChange","semName","setSemName","handleOnSubmit","time1","time2","preventDefault","setNewSemester","userNamed","year","semesterStart","semesterEnd","diff","timeCreated","onSubmit","placeholder","Date","marginLeft","TeacherTimeTable","itemContainers","call","querySelectorAll","columnGrids","grid","Muuri","items","dragEnabled","dragAxis","dragPlaceholder","enabled","dragSort","dragContainer","body","dragAutoScroll","targets","element","priority","getGrid","getElement","parentNode","dragRelease","duration","easing","useDragContainer","getWidth","getHeight","refreshItems","ScheduleTimeTable","querySelector","FormFaculties","currentFacultyId","facultiesObj","handleOnAdd","handleOnModify","setCurrentFacultyId","initialState","setValues","handleInputChange","handleButtonAdd","handleButtonModify","Form","Input","required","autoFocus","autoComplete","TextArea","cols","rows","ManageFaculties","gridApi","setGridApi","setGridColumnApi","isLoading","setIsLoading","selectedRows","setSelectedRows","rowData","setRowData","setFacultiesObj","setExcelLoadedItems","gridOptions","columnDefs","field","headerName","checkboxSelection","headerCheckboxSelection","editable","defaultColDef","rowSelection","FacultyItemToAdd","onAdd","facultyName","allFaculties","all","subjectRows","facultyKey","facultyId","fetchData","shouldRemoveChild","removeLi","thisLi","closest","Array","from","indexOf","tempArr","splice","confirmAlert","buttons","objHeaders","Error","files","handleExcelLoad","open","closeOnEscape","marginTop","setQuickFilter","onGridReady","params","api","columnApi","enableRangeSelection","pagination","paginationPageSize","rowMultiSelectWithClick","suppressRowClickSelection","getContextMenuItems","overlayNoRowsTemplate","onRowClicked","onSelectionChanged","getSelectedRows","FormLectures","currentLectureId","lecturesObj","setCurrentLectureId","faculty","getElementById","htmlFor","disabled","ManageLectures","setLecturesObj","LectureItemToAdd","lectureName","lectureRows","lectureKey","lectureId","handleOnAddFaculty","lectrueEmail","modifyLecture","removeLecture","FormSubjects","currentSubjectId","subjectsObj","setCurrentSubjectId","credit","typeCheckedValues","parseInt","onFocus","ManageSubjects","setSubjectsObj","searchString","setSearchString","resizable","SubjectItemToAdd","subjectName","allSubject","subjectKey","subjectId","newSubject","res","modifySubject","removeSubject","getTimeString","today","getDate","getMonth","getFullYear","toLocaleDateString","getHours","getMinutes","TimeTableListItem","onDelete","restProps","TimeTables","semesterObject","setSemesterObject","handleOnDelete","removeSemester","reverse","onClickLi","setLeftMenuVisible","NotFoundPage","styles","h1","h4","anchor","textAlign","fontWeight","textDecoration","SemContext","semValues","SemProvider","semId","classesObj","setClassesObj","updateGroupedOptions","lecturesOpt","classesOpt","hasOwnProperty","currClass","options","groupedOptions","useMemo","propsType","PropTypes","node","string","isRequired","FormClassManage","classObj","currentClassId","setCurrentClassId","classSize","classType","ManageClass","setClassObj","rowGroup","groupUseEntireRow","gridTemplateColumns","classRow","classKey","classId","modifyClass","rej","removeClass","NumbericEditor","eInput","createElement","isCharNumeric","charPress","isKeyPressedNumeric","isKeyPressedNavigation","stopPropagation","focus","charPressIsNotANumber","cancelBeforeStart","keyCode","getValue","which","charStr","test","charCode","getCharCodeFromEvent","String","fromCharCode","ManageAssignments","semesterInfo","subjectObj","setSubjectObj","setCurrentLectureID","lectureListFilter","setLectureListFilter","subjectGridFilter","setSubjectGridFilter","cellEditor","cellEditorParams","valueFormatter","valueSetter","isNaN","newValue","isFinite","numberOfTests","allSubjects","handleAddToDB","setNewAssignment","li","getElementsByClassName","isInclude","txtValue","textContent","innerHTML","includes","some","allAssignmentsOfLecture","forEachNode","rowNode","setData","setSelected","deselectAll","minWidth","frameworkComponents","classesSelectComponent","Select","components","numbericCellEditor","suppressDragLeaveHidesColumns","onCellEditingStopped","pluginDependencies","TaskLimiter","timeTableAppointments","onDoubleClick","handleDoubleClick","groupingInfo","isSpaceAvailable","reduce","isAvailable","groupedAppointments","acc","appointment","start","end","alert","paddingBottom","textCenter","TimeTableScheduler","context","currentTimeTable","setCurrentTimeTable","currentTimetableInfo","setCurrentTimetableInfo","assignmentsArr","setAssignmentsArr","currentDateViewState","setCurrentDateViewState","lectureObj","setLectureObj","anchorEl","setAnchorEl","getTimetableInfo","timetableID","getAssignments","getSchedule","onCommitChanges","added","changed","deleted","startingAddedId","assignmentData","filter","populateAssignment","lectureSchedule","day","isValidScheduleForClass","every","isValidScheduleForLecture","rRule","timeTableID","entries","resultSchedule","allowDrag","allowResize","appointmentComponent","Appointment","Content","withStyles","appointmentData","makeTitleForSheet","workBook","ExcelJS","creator","created","modified","ID","addWorksheet","fileName","xlsx","writeBuffer","buffer","blob","Blob","saveAs","handleExportAllClasses","handleExportAllLectures","recurrenceEditMenu","current","currentAndFollowing","cancelButton","commitButton","menuEditingTitle","menuDeletingTitle","classNamePrefix","isClearable","isSearchable","provided","zIndex","option","isSelected","control","maxHeight","marginRight","overFlow","Popup","trigger","background","borderRadius","Header","paddingTop","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Boolean","onClose","TransitionComponent","Fade","MenuItem","handleExportCurrent","elevation","Backdrop","firstDayOfWeek","defaultCurrentDate","currentDate","onCurrentDateChange","messages","startDayHour","endDayHour","cellDuration","showDeleteButton","showCloseButton","contentComponent","scrollSpeed","dayScaleLayoutComponent","TimeTableNav","TimeTable","path","NotFound","default","Application","leftMenuVisible","handleResize","innerWidth","elem","prev","darkTheme","createMuiTheme","App","ThemeProvider","autoClose","hideProgressBar","pauseOnHover","newestOnTop","closeOnClick","draggable","ReactDOM","render"],"mappings":"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","file":"static/js/main.decc9ebb.chunk.js","sourcesContent":["import allHolidays from './holidays.json';\r\nimport moment from 'moment';\r\n\r\nexport const holidays = allHolidays.map(holiday => {\r\n  console.log(holiday);\r\n  return Object.freeze({\r\n    name: holiday.name_local,\r\n    date: moment(holiday?.date),\r\n  });\r\n});\r\n\r\nexport const breakTime = { from: '11:35sa', to: '13:00ch' };\r\n","import * as XLSX from 'xlsx';\r\nimport { toast } from 'react-toastify';\r\nimport { breakTime, holidays } from './timetable-config';\r\nimport moment from 'moment';\r\n\r\n// read excel as json\r\nexport function readExcel(file, headers) {\r\n  return new Promise((resolve, reject) => {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsArrayBuffer(file);\r\n\r\n    fileReader.onload = e => {\r\n      const bufferArray = e.target.result;\r\n      const wb = XLSX.read(bufferArray, { type: 'buffer' });\r\n      const wsname = wb.SheetNames[0];\r\n      const ws = wb.Sheets[wsname];\r\n      const data = XLSX.utils.sheet_to_json(ws, {\r\n        header: headers,\r\n        raw: true,\r\n        blankrows: false,\r\n        defval: null, // giá trị mặc định thay cho null hoặc undefined\r\n      });\r\n\r\n      if (data.slice(1).length === 0) {\r\n        reject('Không có dữ liệu');\r\n      } else {\r\n        resolve(data.slice(1));\r\n      }\r\n    };\r\n\r\n    fileReader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n\r\nexport function addScheduleSheet({ workSheet, data, isLecture }) {\r\n  // console.log(workBook.xlsx);\r\n\r\n  const style = {\r\n    alignment: {\r\n      wrapText: true,\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    },\r\n  };\r\n  workSheet.getRow(3).values = [\r\n    'TIẾT',\r\n    'THỜI GIAN',\r\n    'THỨ HAI',\r\n    'THỨ BA',\r\n    'THỨ TƯ',\r\n    'THỨ NĂM',\r\n    'THỨ SÁU',\r\n    'THỨ BẢY',\r\n    'CHỦ NHẬT',\r\n  ];\r\n\r\n  workSheet.columns = [\r\n    {\r\n      key: 'slot',\r\n      width: 10,\r\n      protection: true,\r\n    },\r\n    {\r\n      key: 'slottime',\r\n      width: 15,\r\n      style,\r\n    },\r\n    { key: 'mon', width: 20, style },\r\n    { key: 'tue', width: 20, style },\r\n    { key: 'wed', width: 20, style },\r\n    { key: 'thu', width: 20, style },\r\n    { key: 'fri', width: 20, style },\r\n    { key: 'sat', width: 20, style },\r\n    { key: 'sun', width: 20, style },\r\n  ];\r\n\r\n  const arrRowBeforeAdding = [\r\n    {\r\n      slot: 'Sáng',\r\n      slottime: 'BĐ - KT',\r\n      mon: 'Học Phần',\r\n      tue: 'Học Phần',\r\n      wed: 'Học Phần',\r\n      thu: 'Học Phần',\r\n      fri: 'Học Phần',\r\n      sat: 'Học Phần',\r\n      sun: 'Học Phần',\r\n    },\r\n    { slot: '1', slottime: '07:00 - 07:50' },\r\n    { slot: '2', slottime: '07:55 - 08:45' },\r\n    { slot: '3', slottime: '08:50 - 09:40' },\r\n    { slot: '4', slottime: '09:45 - 10:35' },\r\n    { slot: '5', slottime: '10:40 - 11:30' },\r\n    { slot: 'Chiều' },\r\n    { slot: '6', slottime: '13:00 - 13:50' },\r\n    { slot: '7', slottime: '13:55 - 14:45' },\r\n    { slot: '8', slottime: '14:50 - 15:40' },\r\n    { slot: '9', slottime: '15:45 - 16:35' },\r\n    { slot: '10', slottime: '16:40 - 17:30' },\r\n  ];\r\n\r\n  arrRowBeforeAdding.forEach(function (item, index) {\r\n    workSheet.addRow({\r\n      slot: item.slot,\r\n      slottime: item.slottime,\r\n      mon: item.mon,\r\n      tue: item.tue,\r\n      wed: item.wed,\r\n      thu: item.thu,\r\n      fri: item.fri,\r\n      sat: item.sat,\r\n      sun: item.sun,\r\n    });\r\n  });\r\n\r\n  // merge unneeded cells\r\n  workSheet.mergeCells('A10', 'I10');\r\n\r\n  // make borders for cells\r\n  workSheet.getRows(3, 13).forEach(row => {\r\n    for (let i = 1; i <= 9; i++) {\r\n      row.getCell(i).style = {\r\n        border: {\r\n          top: { style: 'thin' },\r\n          left: { style: 'thin' },\r\n          bottom: { style: 'thin' },\r\n          right: { style: 'thin' },\r\n        },\r\n      };\r\n    }\r\n  });\r\n\r\n  const slots = workSheet.getColumn('A').values;\r\n\r\n  data.forEach(item => {\r\n    const { title, startDate, startSlot, endSlot, data } = item;\r\n    const { classTeaching, lectureTeaching, weekCount } = data;\r\n\r\n    const dayOfWeek = moment(startDate).get('day'); // sunday == 0\r\n\r\n    var column;\r\n    const addScheduleCell = column => {\r\n      const mergeCell = [];\r\n\r\n      slots.forEach((slot, index) => {\r\n        if (slot >= startSlot && slot <= endSlot) {\r\n          mergeCell.push(column + index);\r\n          workSheet.getCell(column + index).value =\r\n            title +\r\n            '\\r\\n' +\r\n            (isLecture\r\n              ? classTeaching['className']\r\n              : lectureTeaching['lecture-name']) +\r\n            ' (học ' +\r\n            weekCount +\r\n            ' tuần)';\r\n        }\r\n      });\r\n\r\n      const startMergeCell = mergeCell[0],\r\n        endMergeCell = mergeCell[mergeCell.length - 1];\r\n\r\n      // merge cell with same schedule\r\n      workSheet.mergeCells(startMergeCell, endMergeCell);\r\n\r\n      // align text in center\r\n      workSheet.getCell(startMergeCell).alignment = {\r\n        wrapText: true,\r\n        vertical: 'middle',\r\n        horizontal: 'center',\r\n      };\r\n    };\r\n\r\n    switch (dayOfWeek) {\r\n      // mon\r\n      case 1:\r\n        column = 'C';\r\n        addScheduleCell(column);\r\n        break;\r\n      // tue\r\n      case 2:\r\n        column = 'D';\r\n        addScheduleCell(column);\r\n        break;\r\n      // wed\r\n      case 3:\r\n        column = 'E';\r\n        addScheduleCell(column);\r\n        break;\r\n      // thu\r\n      case 4:\r\n        column = 'F';\r\n        addScheduleCell(column);\r\n        break;\r\n      // fri\r\n      case 5:\r\n        column = 'G';\r\n        addScheduleCell(column);\r\n        break;\r\n      // sat\r\n      case 6:\r\n        column = 'H';\r\n        addScheduleCell(column);\r\n        break;\r\n      // sun\r\n      case 0:\r\n        column = 'I';\r\n        addScheduleCell(column);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  });\r\n}\r\n\r\n// normal string to title case (exp: Title Case String)\r\nexport function titleCase(str) {\r\n  var splitStr = str.toLowerCase().split(' ');\r\n  for (var i = 0; i < splitStr.length; i++) {\r\n    // You do not need to check if i is larger than splitStr length, as your for does that for you\r\n    // Assign it back to the array\r\n    splitStr[i] =\r\n      splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\r\n  }\r\n  // Directly return the joined string\r\n  return splitStr.join(' ');\r\n}\r\n\r\n//#region notification\r\n\r\n// success notification\r\nexport const defaultSuccessCB = msg =>\r\n  toast.success(msg ? `✌ Thành Công: ${msg}!` : '✌ Thành Công!');\r\n\r\n// fail notification\r\nexport const defaultFailCB = err =>\r\n  toast.error(err ? `🚫 Lỗi: ${err}!` : '🚫 Lỗi!');\r\n\r\n// warn notification\r\nexport const defaultWarnCB = msg =>\r\n  toast.warn(msg ? `❗ ${msg}` : '❗ Cảnh báo.');\r\n\r\n//#endregion\r\n\r\nexport function getFacID(facName) {\r\n  if (exists(facName)) {\r\n    return facName\r\n      .toString()\r\n      .trim()\r\n      .split(' ')\r\n      .map(word => (word.toLowerCase() === 'và' ? '&' : word[0].toUpperCase()))\r\n      .join('');\r\n  }\r\n}\r\n\r\nexport const exists = x => x !== null && x !== undefined && x !== '';\r\n\r\nexport const ifExists = value => {\r\n  return new Promise((resolve, reject) => {\r\n    exists(value) ? resolve(value) : reject();\r\n  });\r\n};\r\n\r\nexport const validNumber = num => exists(num) && Number.isInteger(num);\r\n\r\nexport const selectAllOnFocus = event => event.target.select();\r\n\r\nexport function getHeaderRow(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsArrayBuffer(file);\r\n\r\n    fileReader.onload = e => {\r\n      const bufferArray = e.target.result;\r\n      const wb = XLSX.read(bufferArray, { type: 'buffer' });\r\n      const wsname = wb.SheetNames[0];\r\n      const ws = wb.Sheets[wsname];\r\n\r\n      var headers = [];\r\n      var range = XLSX.utils.decode_range(ws['!ref']);\r\n      var C,\r\n        R = range.s.r; /* start in the first row */\r\n      /* walk every column in the range */\r\n      for (C = range.s.c; C <= range.e.c; ++C) {\r\n        var cell =\r\n          ws[\r\n            XLSX.utils.encode_cell({ c: C, r: R })\r\n          ]; /* find the cell in the first row */\r\n\r\n        var hdr = 'UNKNOWN ' + C; // <-- replace with your desired default\r\n        if (cell && cell.t) hdr = XLSX.utils.format_cell(cell);\r\n\r\n        headers.push(hdr);\r\n      }\r\n\r\n      resolve(headers);\r\n    };\r\n\r\n    fileReader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n\r\nexport function isBreak(date) {\r\n  const hours = date.getHours();\r\n  return hours >= breakTime.from && hours < breakTime.to;\r\n}\r\n\r\nexport function hasCoffeeCupIcon(date) {\r\n  const hours = date.getHours();\r\n  const minutes = date.getMinutes();\r\n\r\n  return hours === breakTime.from && minutes === 0;\r\n}\r\n\r\n// export function isValidAppointment(component, appointmentData) {\r\n//   const startDate = new Date(appointmentData.startDate);\r\n//   const endDate = new Date(appointmentData.endDate);\r\n//   const cellDuration = component.option(\"cellDuration\");\r\n//   return isValidAppointmentInterval(startDate, endDate, cellDuration);\r\n// }\r\n\r\n// export function isValidAppointmentInterval(startDate, endDate, cellDuration) {\r\n//   const edgeEndDate = new Date(endDate.getTime() - 1);\r\n\r\n//   if (!isValidAppointmentDate(edgeEndDate)) {\r\n//     return false;\r\n//   }\r\n\r\n//   const durationInMs = cellDuration * 60 * 1000;\r\n//   const date = startDate;\r\n//   while (date <= endDate) {\r\n//     if (!isValidAppointmentDate(date)) {\r\n//       return false;\r\n//     }\r\n//     const newDateTime = date.getTime() + durationInMs - 1;\r\n//     date.setTime(newDateTime);\r\n//   }\r\n\r\n//   return true;\r\n// }\r\n\r\nexport function isRoundNumber(numb) {\r\n  return numb % 1 === 0;\r\n}\r\n\r\nexport function getStartTime(momentInput, classTime) {\r\n  var time = moment(momentInput);\r\n  switch (classTime) {\r\n    case 1:\r\n      time.set({ hour: 7, minute: 0 });\r\n      break;\r\n    case 2:\r\n      time.set({ hour: 7, minute: 55 });\r\n      break;\r\n    case 3:\r\n      time.set({ hour: 8, minute: 50 });\r\n      break;\r\n    case 4:\r\n      time.set({ hour: 9, minute: 45 });\r\n      break;\r\n    case 5:\r\n      time.set({ hour: 10, minute: 40 });\r\n      break;\r\n    case 6:\r\n      time.set({ hour: 13, minute: 0 });\r\n      break;\r\n    case 7:\r\n      time.set({ hour: 13, minute: 55 });\r\n      break;\r\n    case 8:\r\n      time.set({ hour: 14, minute: 50 });\r\n      break;\r\n    case 9:\r\n      time.set({ hour: 15, minute: 45 });\r\n      break;\r\n    case 10:\r\n      time.set({ hour: 16, minute: 40 });\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return moment(time);\r\n}\r\n\r\nexport function getStartTimeSlot(momentInput) {\r\n  var time = moment(momentInput).format('HH:mm');\r\n  switch (time) {\r\n    case '07:00':\r\n      return 1;\r\n    case '07:55':\r\n      return 2;\r\n    case '08:50':\r\n      return 3;\r\n    case '09:45':\r\n      return 4;\r\n    case '10:40':\r\n      return 5;\r\n    case '13:00':\r\n      return 6;\r\n    case '13:55':\r\n      return 7;\r\n    case '14:50':\r\n      return 8;\r\n    case '15:45':\r\n      return 9;\r\n    case '16:40':\r\n      return 10;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport function getEndTime(momentInput, classTime) {\r\n  var time = moment(momentInput);\r\n  switch (classTime) {\r\n    case 1:\r\n      time.set({ hour: 7, minute: 55 });\r\n      break;\r\n    case 2:\r\n      time.set({ hour: 8, minute: 50 });\r\n      break;\r\n    case 3:\r\n      time.set({ hour: 9, minute: 45 });\r\n      break;\r\n    case 4:\r\n      time.set({ hour: 10, minute: 40 });\r\n      break;\r\n    case 5:\r\n      time.set({ hour: 11, minute: 35 });\r\n      break;\r\n    case 6:\r\n      time.set({ hour: 13, minute: 55 });\r\n      break;\r\n    case 7:\r\n      time.set({ hour: 14, minute: 50 });\r\n      break;\r\n    case 8:\r\n      time.set({ hour: 15, minute: 45 });\r\n      break;\r\n    case 9:\r\n      time.set({ hour: 16, minute: 40 });\r\n      break;\r\n    case 10:\r\n      time.set({ hour: 17, minute: 35 });\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return moment(time);\r\n}\r\n\r\nexport function getEndTimeSlot(momentInput) {\r\n  var time = moment(momentInput).format('HH:mm');\r\n  switch (time) {\r\n    case '07:55':\r\n      return 1;\r\n    case '08:50':\r\n      return 2;\r\n    case '09:45':\r\n      return 3;\r\n    case '10:40':\r\n      return 4;\r\n    case '11:35':\r\n      return 5;\r\n    case '13:55':\r\n      return 6;\r\n    case '14:50':\r\n      return 7;\r\n    case '15:45':\r\n      return 8;\r\n    case '16:40':\r\n      return 9;\r\n    case '17:35':\r\n      return 10;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport function getTimeSlot(momentInputStart, momentInputEnd) {\r\n  var timeStart = moment(momentInputStart).format('HH:mm');\r\n  var timeEnd = moment(momentInputEnd).format('HH:mm');\r\n\r\n  switch (timeStart + '-' + timeEnd) {\r\n    case '07:00-07:55':\r\n      return 1;\r\n    case '07:55-08:50':\r\n      return 2;\r\n    case '08:50-09:45':\r\n      return 3;\r\n    case '09:45-10:40':\r\n      return 4;\r\n    case '10:40-11:35':\r\n      return 5;\r\n    case '13:00-13:55':\r\n      return 6;\r\n    case '13:55-14:50':\r\n      return 7;\r\n    case '14:50-15:45':\r\n      return 8;\r\n    case '15:45-16:40':\r\n      return 9;\r\n    case '16:40-17:35':\r\n      return 10;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport function getTime(momentInput) {\r\n  return moment(moment(momentInput).format('HH:mm'), 'HH:mm');\r\n}\r\n\r\nexport function isValidTimeSlot(\r\n  startDate,\r\n  endDate,\r\n  momentInputStart,\r\n  momentInputEnd,\r\n) {\r\n  const timeFormat = 'HH:mm';\r\n\r\n  const startFormat = moment(moment(startDate).format(timeFormat), timeFormat),\r\n    endFormat = moment(moment(endDate).format(timeFormat), timeFormat);\r\n\r\n  const startTime = getTime(momentInputStart);\r\n  const endTime = getTime(momentInputEnd);\r\n\r\n  // debugger;\r\n\r\n  // chỉ kiểm tra thời gian của các slot\r\n  // thời gian không nằm giữa hoặc\r\n  // thời gian nằm sau hẳn hoặc\r\n  // thời gian nằm trước hẳn\r\n  const isValidTime =\r\n    // thời gian không nằm giữa thời gian cần kiểm tra\r\n    (!startFormat.isBetween(startTime, endTime, undefined, '[]') &&\r\n      !endFormat.isBetween(startTime, endTime, undefined, '[]')) ||\r\n    // sau hẳn\r\n    (startFormat.isSameOrAfter(endTime) && endFormat.isAfter(endTime)) ||\r\n    // trước hẳn\r\n    (startFormat.isBefore(startTime) && endFormat.isSameOrBefore(startTime));\r\n\r\n  // khác ngày của thời gian check hoặc !chủ nhật\r\n  const isDayValid = isValidDay(startDate, momentInputStart);\r\n\r\n  // kiểm tra giờ trong đúng khoảng thời gian\r\n  const isValidHour =\r\n    (startFormat.isSameOrAfter(moment('07:00', timeFormat)) &&\r\n      startFormat.isSameOrBefore(moment('10:40', timeFormat))) ||\r\n    (startFormat.isSameOrAfter(moment('13:00', timeFormat)) &&\r\n      startFormat.isSameOrBefore(moment('16:40', timeFormat))) ||\r\n    (endFormat.isSameOrAfter(moment('07:55', timeFormat)) &&\r\n      endFormat.isSameOrBefore(moment('11:35', timeFormat))) ||\r\n    (endFormat.isSameOrAfter(moment('13:55', timeFormat)) &&\r\n      endFormat.isSameOrBefore(moment('17:35', timeFormat)));\r\n\r\n  const isValidSession =\r\n    (getStartTimeSlot(startFormat) <= 5 && getEndTimeSlot(endFormat)) <= 5 ||\r\n    (getStartTimeSlot(startFormat) > 5 && getEndTimeSlot(endFormat)) > 5;\r\n\r\n  // console.log(startFormat, endFormat, startTime, endTime, isValidTime);\r\n\r\n  return (isValidTime || isDayValid) && isValidHour && isValidSession;\r\n}\r\n\r\nexport function isValidDay(startDate, startDate2) {\r\n  return (\r\n    // not the same day\r\n    !moment(startDate).isSame(moment(startDate2), 'day')\r\n    // and not sunday\r\n    // !moment(startDate).day() === 0\r\n  );\r\n}\r\n\r\nexport function isHoliday(date) {\r\n  return holidays.some(holiday => holiday.date.isSame(moment(date), 'day'));\r\n}\r\n\r\nexport function exDateHolidaysString() {\r\n  var exDate = '';\r\n  holidays.forEach(holiday => {\r\n    if (exists(holiday.date)) {\r\n      exDate += moment(holiday.date).format('YYYYMMDD') + ',';\r\n      // YYYYMMDDTHHmmssZ\r\n    }\r\n  });\r\n  return exDate;\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport {\r\n  titleCase,\r\n  defaultSuccessCB,\r\n  defaultFailCB,\r\n  exists,\r\n  isRoundNumber,\r\n} from \"./utils\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyAvou0hUxm9CUqZUN7pRmq6ooHDqHy52x0\",\r\n  authDomain: \"hlu-timetable.firebaseapp.com\",\r\n  databaseURL: \"https://hlu-timetable-default-rtdb.firebaseio.com\",\r\n  projectId: \"hlu-timetable\",\r\n  storageBucket: \"hlu-timetable.appspot.com\",\r\n  messagingSenderId: \"728227473654\",\r\n  appId: \"1:728227473654:web:82ad634bdc4ae6cbfde4d7\",\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nexport const database = firebase.database();\r\n\r\nexport const userRef = (userID) => database.ref(userID);\r\nexport const semRef = (semID) =>\r\n  database.ref(`${auth.currentUser.uid}/semesters/${semID}`);\r\nexport const classRef = (semID, classID) =>\r\n  database.ref(`${auth.currentUser.uid}/semesters/${semID}/classes/${classID}`);\r\n\r\nexport function currentUserQuery() {\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      return userRef(user.uid);\r\n    }\r\n  });\r\n  return;\r\n}\r\n\r\n// change the loged in user\r\nexport function signInWithGoogle() {\r\n  var googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n  googleAuthProvider.setCustomParameters({\r\n    prompt: \"select_account\",\r\n  });\r\n  return auth.signInWithPopup(googleAuthProvider);\r\n}\r\n\r\n// sign out current user\r\nexport function signOut(callback) {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      // Sign-out successful.\r\n      console.log(\"Sign-out successful.\");\r\n      callback();\r\n    })\r\n    .catch((err) => {\r\n      // An error happened.\r\n      console.log(\"Sign-out unsuccessful: \" + err);\r\n    });\r\n}\r\n\r\n//#region Class: Quản lý lớp\r\n\r\nexport function getClass(semID, classID) {\r\n  return new Promise((resolve) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (!!user) {\r\n        userRef(user.uid)\r\n          .child(`semesters/${semID}/classes/${classID}`)\r\n          .on(\"value\", (snapshot) => {\r\n            if (snapshot.val() != null) {\r\n              resolve(snapshot.val());\r\n            } else {\r\n              resolve({});\r\n            }\r\n          });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nexport function getAllClasses(semID) {\r\n  return new Promise((resolve) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (!!user) {\r\n        semRef(semID)\r\n          .child(\"classes\")\r\n          .on(\"value\", (snapshot) => {\r\n            if (snapshot.val() != null) {\r\n              resolve(snapshot.val());\r\n            } else {\r\n              resolve({});\r\n            }\r\n          });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nexport function newClass(semID, values) {\r\n  Object.keys(values).forEach(\r\n    (key) => (values[key] = values[key].toString().toString().trim())\r\n  );\r\n\r\n  auth.onAuthStateChanged((user) => {\r\n    userRef(user.uid)\r\n      .child(`semesters/${semID}/classes/`)\r\n      .push(values, (err) => {\r\n        // failed to write data\r\n        err\r\n          ? console.warn(\"failed to write data to firebase: \" + err.message)\r\n          : console.log(\"setNewClass success!\");\r\n      });\r\n  });\r\n}\r\n\r\nexport function modifyClass(semID, classID, values) {\r\n  Object.keys(values).forEach(\r\n    (key) => (values[key] = values[key].toString().toString().trim())\r\n  );\r\n\r\n  return new Promise((resolve, reject) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      userRef(user.uid)\r\n        .child(`semesters/${semID}/classes/${classID}`)\r\n        .set(values, (err) => {\r\n          err ? reject(\"lỗi ghi vào cơ sở dữ liệu: \" + err.message) : resolve();\r\n        });\r\n    });\r\n  });\r\n}\r\n\r\nexport function removeClass(\r\n  semID,\r\n  classID,\r\n  successCB = defaultSuccessCB,\r\n  failCB = defaultFailCB\r\n) {\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      userRef(user.uid)\r\n        .child(`semesters/${semID}/classes/${classID}`)\r\n        .remove((err) => {\r\n          if (err) {\r\n            failCB(err.message);\r\n          } else {\r\n            successCB();\r\n            console.log(\"removeClass success!\");\r\n          }\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Semester: Quản lý kì học\r\n\r\n// write new semester or modify in database\r\n\r\nexport function getAllSemester(callback) {\r\n  auth.onAuthStateChanged((user) => {\r\n    if (!!user) {\r\n      userRef(user.uid)\r\n        .child(\"semesters\")\r\n        .on(\"value\", (snapshot) => {\r\n          if (snapshot.val() != null) {\r\n            callback(snapshot.val());\r\n          } else {\r\n            callback({});\r\n          }\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\nexport function setNewSemester(values) {\r\n  Object.keys(values).forEach(\r\n    (key) => (values[key] = values[key].toString().toString().trim())\r\n  );\r\n  auth.onAuthStateChanged((user) => {\r\n    userRef(user.uid)\r\n      .child(`semesters`)\r\n      .push()\r\n      .child(\"semesterInfo\")\r\n      .set(\r\n        values,\r\n        // failed to write data\r\n        (err) => {\r\n          if (err) {\r\n            console.warn(\"failed to write data to firebase: \" + err.message);\r\n          } else {\r\n            console.log(\"setNewSemester success!\");\r\n          }\r\n        }\r\n      );\r\n  });\r\n}\r\n\r\nexport function removeSemester(\r\n  semID,\r\n  successCB = defaultSuccessCB,\r\n  failCB = defaultFailCB\r\n) {\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      userRef(user.uid)\r\n        .child(`semesters/${semID}`)\r\n        .remove((err) => {\r\n          if (err) {\r\n            failCB(err.message);\r\n          } else {\r\n            successCB();\r\n            console.log(\"removeSemester success!\");\r\n          }\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Faculties: Quản Lý Khoa\r\n\r\n// get all faculties in database\r\nexport function getAllFaculties() {\r\n  return new Promise((resolve) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (!!user) {\r\n        userRef(user.uid)\r\n          .child(\"faculties\")\r\n          .on(\"value\", (snapshot) => {\r\n            if (snapshot.val() != null) {\r\n              resolve(snapshot.val());\r\n            } else {\r\n              resolve({});\r\n            }\r\n          });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// add and modify faculty to database\r\nexport function setNewFaculty(values, failCB = defaultFailCB) {\r\n  Object.keys(values).forEach((key) => {\r\n    if (!!values[key]) {\r\n      values[key] = values[key].toString().trim();\r\n    }\r\n  });\r\n  if (values[\"faculty-name\"]) {\r\n    let facID = values[\"faculty-id\"];\r\n    // remove the faculty-id prop from object and use it as key\r\n    delete values[\"faculty-id\"];\r\n    values[\"faculty-name\"] = titleCase(values[\"faculty-name\"]);\r\n\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        userRef(user.uid)\r\n          .child(`faculties/${facID}`)\r\n          .set(values, (err) =>\r\n            err ? failCB(err.message) : console.log(\"setNewFaculty success\")\r\n          );\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// remove faculty\r\nexport function removeFaculty(\r\n  id,\r\n  successCB = defaultSuccessCB,\r\n  failCB = defaultFailCB\r\n) {\r\n  if (id) {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        userRef(user.uid)\r\n          .child(`faculties/${id}`)\r\n          .remove((err) => {\r\n            if (err) {\r\n              failCB(err.message);\r\n            } else {\r\n              successCB();\r\n              console.log(\"removeFaculty success!\");\r\n            }\r\n          });\r\n      }\r\n    });\r\n  } else {\r\n    failCB(\"Không có khoa nào được chọn\");\r\n  }\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Lectures: Quản lý nhân sự, giảng viên\r\n\r\n// get a lecture in database\r\nexport function getLecture(lectureID) {\r\n  return new Promise((resolve, reject) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        userRef(user.uid)\r\n          .child(`lectures/${lectureID}`)\r\n          .once(\"value\", (snapshot) => {\r\n            if (snapshot.val() !== null) {\r\n              resolve(snapshot.val());\r\n            } else {\r\n              resolve({});\r\n            }\r\n          });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// get all lectures in database\r\nexport function getAllLectures() {\r\n  return new Promise((resolve, reject) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        userRef(user.uid)\r\n          .child(\"lectures\")\r\n          .once(\"value\", (snapshot) => {\r\n            if (snapshot.val() !== null) {\r\n              resolve(snapshot.val());\r\n            } else {\r\n              resolve({});\r\n            }\r\n          });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// set new lectures\r\nexport function newLecture(values) {\r\n  Object.keys(values).forEach((key) => {\r\n    if (!!values[key]) {\r\n      values[key] = values[key].toString().trim();\r\n    }\r\n  });\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      userRef(user.uid)\r\n        .child(\"lectures\")\r\n        .push(values, (err) => {\r\n          err ? console.warn(err) : console.log(\"newLecture success!\");\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\n// modify lecture by id\r\nexport function modifyLecture(\r\n  id,\r\n  values,\r\n  successCB = defaultSuccessCB,\r\n  failCB = defaultFailCB\r\n) {\r\n  Object.keys(values).forEach(\r\n    (key) => (values[key] = values[key].toString().trim())\r\n  );\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      userRef(user.uid)\r\n        .child(`lectures/${id}`)\r\n        .set(values, (err) => {\r\n          if (err) {\r\n            failCB(err.message);\r\n          } else {\r\n            successCB();\r\n            console.log(\"modifyLecture success!\");\r\n          }\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\n// remove lecture by id\r\nexport function removeLecture(\r\n  id,\r\n  successCB = defaultSuccessCB,\r\n  failCB = defaultFailCB\r\n) {\r\n  if (id) {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        userRef(user.uid)\r\n          .child(`lectures/${id}`)\r\n          .remove((err) => {\r\n            if (err) {\r\n              failCB(err);\r\n            } else {\r\n              successCB();\r\n              console.log(\"removeLecture success!\");\r\n            }\r\n          });\r\n      }\r\n    });\r\n  } else {\r\n    console.warn(\"Không có ID giảng viên!\");\r\n  }\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Subjects: Quản lý môn học\r\n\r\n// get all subjects in database\r\nexport function getAllSubjects() {\r\n  return new Promise((resolve) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        userRef(user.uid)\r\n          .child(\"subjects\")\r\n          .once(\"value\", (snapshot) => {\r\n            if (snapshot.val() !== null) {\r\n              resolve(snapshot.val());\r\n            } else {\r\n              resolve({});\r\n            }\r\n          });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// set new subject\r\nexport function newSubject(values) {\r\n  if (!!values[\"subject-name\"]) {\r\n    Object.keys(values).forEach((key) => {\r\n      if (!!values[key]) {\r\n        values[key] = values[key].toString().trim();\r\n      }\r\n    });\r\n    values[\"subject-name\"] = values[\"subject-name\"].toString().toUpperCase();\r\n  }\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      userRef(user.uid)\r\n        .child(\"subjects\")\r\n        .push(values, (err) => {\r\n          err ? console.warn(err) : console.log(\"newSubject success!\");\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\n// modify lecture by id\r\nexport function modifySubject(\r\n  id,\r\n  values,\r\n  successCB = defaultSuccessCB,\r\n  failCB = defaultFailCB\r\n) {\r\n  if (!!values[\"subject-name\"]) {\r\n    Object.keys(values).forEach(\r\n      (key) => (values[key] = values[key].toString().trim())\r\n    );\r\n    values[\"subject-name\"] = values[\"subject-name\"].toString().toUpperCase();\r\n  }\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      userRef(user.uid)\r\n        .child(`subjects/${id}`)\r\n        .set(values, (err) => {\r\n          if (err) {\r\n            failCB(err.message);\r\n          } else {\r\n            successCB();\r\n            console.log(\"modifySubject success!\");\r\n          }\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\n// remove lecture by id\r\nexport function removeSubject(\r\n  id,\r\n  successCB = defaultSuccessCB,\r\n  failCB = defaultFailCB\r\n) {\r\n  if (id) {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        userRef(user.uid)\r\n          .child(`subjects/${id}`)\r\n          .remove((err) => {\r\n            if (err) {\r\n              failCB(err.message);\r\n            } else {\r\n              successCB();\r\n              console.log(\"removeSubject success!\");\r\n            }\r\n          });\r\n      }\r\n    });\r\n  } else {\r\n    console.warn(\"Không có môn học nào được chọn!\");\r\n  }\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Assignments: Quản lý phân công giảng dạy\r\n\r\nexport function getAssignmentsOfLecture(semID, currentLectureID) {\r\n  return new Promise((resolve) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      userRef(user.uid)\r\n        .child(`semesters/${semID}/assignments/${currentLectureID}/`)\r\n        .once(\"value\", (snapshot) => {\r\n          if (snapshot.val() !== null) {\r\n            resolve(snapshot.val());\r\n          } else {\r\n            resolve([]);\r\n          }\r\n        });\r\n    });\r\n  });\r\n}\r\n\r\nexport async function getAssignmentsOfClass(semID, classID) {\r\n  return new Promise((resolve) => {\r\n    semRef(semID)\r\n      .child(\"assignments\")\r\n      .once(\"value\", (snapshot) => {\r\n        if (exists(snapshot.val())) {\r\n          const assignments = snapshot.val();\r\n          const assignmentsArray = [];\r\n          Object.values(assignments).forEach((assignment) => {\r\n            assignment.forEach((value) => {\r\n              if (value?.classID === classID) {\r\n                assignmentsArray.push(value);\r\n              }\r\n            });\r\n          });\r\n          // console.log(assignmentsArray);\r\n          resolve(assignmentsArray);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nexport async function setNewAssignment(\r\n  semID,\r\n  currentLectureID,\r\n  values,\r\n  numberOfWeeks\r\n) {\r\n  var assignments = [...values];\r\n  console.log(values);\r\n  if (exists(assignments)) {\r\n    const allClasses = await getAllClasses(semID);\r\n    const allLectures = await getAllLectures();\r\n\r\n    const assignmentsArray = [];\r\n    Object.values(assignments).forEach((assignment) => {\r\n      let assignmentValue = assignment;\r\n\r\n      // số tiết học trong một tuần\r\n      var numberOfClassPerWeek = Math.ceil(\r\n        assignmentValue?.periods / numberOfWeeks\r\n      );\r\n\r\n      // số tuần học/sô tuần lặp lại trong bảng\r\n      var weekCount = assignmentValue?.periods / numberOfClassPerWeek;\r\n\r\n      // nếu số tuần học của môn học không là số nguyên thì thêm số lượng tiết trong tuần để cân bằng\r\n      while (!isRoundNumber(weekCount)) {\r\n        numberOfClassPerWeek += 1;\r\n        weekCount = assignmentValue?.periods / numberOfClassPerWeek;\r\n        console.log(Math.ceil(assignmentValue?.periods / weekCount));\r\n      }\r\n\r\n      // chỉnh object lớp học\r\n      const { classID } = assignmentValue;\r\n\r\n      if (!(classID === \"Chọn Lớp\" || classID === \"\")) {\r\n        const classTeaching = allClasses[classID];\r\n        delete classTeaching[\"schedule\"];\r\n        assignmentValue.classTeaching = classTeaching;\r\n      }\r\n\r\n      // thêm ID giảng viên để không cần truy vấn ngược trong firebase\r\n      const lectureID = currentLectureID;\r\n      const lectureTeaching = allLectures[currentLectureID];\r\n\r\n      assignmentValue = {\r\n        ...assignmentValue,\r\n        numberOfClassPerWeek,\r\n        weekCount,\r\n        lectureID,\r\n        lectureTeaching,\r\n      };\r\n\r\n      if (numberOfClassPerWeek >= 6) {\r\n        var numberOfClassPWeek1, numberOfClassPWeek2;\r\n        if (numberOfClassPerWeek / 2 !== 0) {\r\n          numberOfClassPWeek1 = Math.ceil(numberOfClassPerWeek / 2);\r\n          numberOfClassPWeek2 = Math.floor(numberOfClassPerWeek / 2);\r\n        }\r\n\r\n        assignmentValue.numberOfClassPerWeek = numberOfClassPWeek1;\r\n        const assignmentValue2 = {\r\n          ...assignmentValue,\r\n          numberOfClassPerWeek: numberOfClassPWeek2,\r\n        };\r\n        assignmentsArray.push(assignmentValue2);\r\n      }\r\n      assignmentsArray.push(assignmentValue);\r\n    });\r\n    console.log(\"newAssignment\", assignmentsArray);\r\n    auth.onAuthStateChanged((user) => {\r\n      userRef(user.uid)\r\n        .child(`semesters/${semID}/assignments/${currentLectureID}/`)\r\n        .set(assignmentsArray, (err) => {\r\n          // failed to write data\r\n          err\r\n            ? console.warn(\"failed to write data to firebase: \" + err.message)\r\n            : console.log(\"setNewAssignment success!\");\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\n//#endregion\r\n\r\nexport function setScheduleArray(semID, classID, values) {\r\n  return new Promise((resolve, reject) => {\r\n    classRef(semID, classID)\r\n      .child(\"schedule\")\r\n      .set(values, (err) => (err ? reject(\"failed\") : resolve(values)));\r\n  });\r\n}\r\n\r\nexport function getClassScheduleArray(semID, classID) {\r\n  return new Promise((resolve) => {\r\n    classRef(semID, classID)\r\n      .child(\"schedule\")\r\n      .once(\"value\", (snapshot) => {\r\n        if (snapshot.val() !== null) {\r\n          resolve(snapshot.val());\r\n        } else {\r\n          resolve([]);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nexport function getLectureScheduleArray(semID, lectureID) {\r\n  return new Promise(async (resolve) => {\r\n    const allClasses = await getAllClasses(semID);\r\n    var scheduleArray = [];\r\n\r\n    Object.values(allClasses).forEach((classVal) => {\r\n      const classSchedule = classVal?.schedule;\r\n      var lectureScheduleInClass = [];\r\n      if (classSchedule?.length) {\r\n        classSchedule.forEach((schedule) => {\r\n          if (schedule?.data?.lectureID === lectureID) {\r\n            lectureScheduleInClass.push(schedule);\r\n          }\r\n        });\r\n        scheduleArray = scheduleArray.concat(lectureScheduleInClass);\r\n      }\r\n    });\r\n\r\n    resolve(scheduleArray);\r\n  });\r\n}\r\n","import React, { Component, createContext } from \"react\";\r\nimport moment from \"moment\";\r\n\r\n// import components\r\nimport { auth, userRef } from \"../firebase\";\r\n\r\nexport const UserContext = createContext({\r\n  user: null,\r\n});\r\n\r\nclass UserProvider extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      user: null,\r\n    };\r\n\r\n    // set new user\r\n    this.setUser = (newUser) => {\r\n      this.setState({ user: newUser }, () => {\r\n        if (!!newUser) {\r\n          // console.log(\"User: \");\r\n          // console.log(this.state);\r\n        }\r\n      });\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    // check if the user has changed and setState to the {user}\r\n    auth.onAuthStateChanged((user) => {\r\n      if (!!user) {\r\n        console.log(\"signed in\");\r\n        this.setUser(user);\r\n        userRef(user.uid)\r\n          .child(\"setting/\")\r\n          .set({ \"loged-history\": moment().toString() }, (err) => {\r\n            if (err) {\r\n              console.warn(\"failed to write data to firebase: \" + err.message);\r\n            }\r\n          });\r\n      } else {\r\n        console.log(\"not signed in\");\r\n        this.setUser(null);\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <UserContext.Provider value={this.state.user}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","export default __webpack_public_path__ + \"static/media/logo.c650d676.svg\";","import React, { useCallback } from 'react';\r\nimport { Link } from '@reach/router';\r\nimport { defaultFailCB } from '../utils';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\n// import components\r\nimport logo from '../logo.svg';\r\nimport PropTypes from 'prop-types';\r\n\r\n// import styles\r\nimport './Components.css';\r\n\r\n//#region Logo & Loading\r\n\r\nexport const Logo = props => (\r\n  <Link to=\"/\" onClick={props.onClick}>\r\n    <div className=\"app-logo-container\">\r\n      <img src={logo} className=\"app-logo\" alt=\"logo\" />\r\n      <p>\r\n        Hạ Long\r\n        <br />\r\n        University\r\n      </p>\r\n    </div>\r\n  </Link>\r\n);\r\n\r\nexport const Loading = () => (\r\n  <>\r\n    <div className=\"loading\">\r\n      <img src={logo} className=\"app-logo-loading\" alt=\"logo\" />\r\n    </div>\r\n  </>\r\n);\r\n\r\n//#endregion\r\n\r\n//#region Button\r\n\r\nexport const LinkButton = props => {\r\n  const { children, className } = props;\r\n  const fixedClassName = className ? className : '';\r\n  return (\r\n    <>\r\n      <Link {...props} className={`button ${fixedClassName}`}>\r\n        {children}\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const Button = ({\r\n  title,\r\n  style,\r\n  type,\r\n  className,\r\n  onClick,\r\n  children,\r\n}) => {\r\n  return (\r\n    <>\r\n      <button\r\n        title={title}\r\n        style={style}\r\n        type={type}\r\n        className={`button ${className}`}\r\n        onClick={onClick}\r\n      >\r\n        {children}\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const DropDownHoverButton = ({\r\n  children,\r\n  onMenuClick,\r\n  item1,\r\n  item1Link,\r\n  item2,\r\n  item2Link,\r\n  item3,\r\n  item3Link,\r\n  item4,\r\n  item4Link,\r\n  item5,\r\n  item5Link,\r\n  title,\r\n}) => {\r\n  return (\r\n    <>\r\n      <div\r\n        title={title}\r\n        className=\"button dropdown-button\"\r\n        onClick={onMenuClick}\r\n      >\r\n        {children}\r\n        <ul className=\"dropdown_menu\">\r\n          {item1 && item1Link && (\r\n            <Link to={item1Link}>\r\n              <li className=\"dropdown_item dropdown_item-1\">{item1}</li>\r\n            </Link>\r\n          )}\r\n          {item2 && item2Link && (\r\n            <Link to={item2Link}>\r\n              <li className=\"dropdown_item dropdown_item-2\">{item2}</li>\r\n            </Link>\r\n          )}\r\n          {item3 && item3Link && (\r\n            <Link to={item3Link}>\r\n              <li className=\"dropdown_item dropdown_item-3\">{item3}</li>\r\n            </Link>\r\n          )}\r\n          {item4 && item4Link && (\r\n            <Link to={item4Link}>\r\n              <li className=\"dropdown_item dropdown_item-4\">{item4}</li>\r\n            </Link>\r\n          )}\r\n          {item5 && item5Link && (\r\n            <Link to={item5Link}>\r\n              <li className=\"dropdown_item dropdown_item-5\">{item5}</li>\r\n            </Link>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\n//#endregion\r\n\r\n//#region Excel Dropzone\r\n\r\nexport const FileDropzone = ({\r\n  handleDropped,\r\n  excelLoadedItems,\r\n  handleDownloadTemplateFile,\r\n}) => {\r\n  // accepted files for react-dropzone in MIME Type\r\n  const accept = [\r\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n    'application/vnd.ms-excel',\r\n  ];\r\n\r\n  // handle on file drop with dropzone\r\n  const onDrop = useCallback((acceptedFiles, fileRejections) => {\r\n    if (!!fileRejections.length) {\r\n      defaultFailCB('Tệp tin không phù hợp');\r\n    } else {\r\n      handleDropped(acceptedFiles);\r\n    } // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // get props\r\n  const {\r\n    getRootProps,\r\n    getInputProps,\r\n    isDragActive,\r\n    isDragAccept,\r\n    isDragReject,\r\n  } = useDropzone({\r\n    accept,\r\n    onDrop,\r\n  });\r\n\r\n  function getBorderColor(props) {\r\n    if (props.isDragAccept) {\r\n      return '#00e676';\r\n    }\r\n    if (props.isDragReject) {\r\n      return '#ff1744';\r\n    }\r\n    if (props.isDragActive) {\r\n      return '#2196f3';\r\n    }\r\n    return '#eeeeee';\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"dropzone__container\"\r\n        style={{\r\n          // expand to full height of parent\r\n          height: (isDragActive || !!excelLoadedItems.length) && '100%',\r\n          // change border color on Drag event\r\n          borderColor: getBorderColor({\r\n            ...getRootProps({\r\n              isDragActive,\r\n              isDragAccept,\r\n              isDragReject,\r\n            }),\r\n          }),\r\n        }}\r\n        // get props for root container\r\n        {...getRootProps()}\r\n      >\r\n        <div>\r\n          <input {...getInputProps()} />\r\n          {isDragActive ? (\r\n            <p>Thả file vào đây...</p>\r\n          ) : (\r\n            <p>\r\n              Kéo thả tệp excel vào đây <br />\r\n              hoặc nhấn để chọn tệp của bạn!\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {isDragActive || !!excelLoadedItems.length || (\r\n        <Button\r\n          onClick={handleDownloadTemplateFile}\r\n          style={{ marginBottom: 10 }}\r\n          className=\"new\"\r\n        >\r\n          Tải file excel mẫu\r\n        </Button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n//#endregion\r\n\r\n//#region Tabs Components\r\n\r\nexport class Tab extends React.Component {\r\n  static propTypes = {\r\n    activeTab: PropTypes.string.isRequired,\r\n    label: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  onClick = () => {\r\n    const { label, onClick } = this.props;\r\n    onClick(label);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onClick,\r\n      props: { activeTab, label },\r\n    } = this;\r\n\r\n    let className = 'tab-list-item';\r\n\r\n    if (activeTab === label) {\r\n      className += ' tab-list-active';\r\n    }\r\n\r\n    return (\r\n      <li className={className} onClick={onClick}>\r\n        {label}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Tabs extends React.Component {\r\n  static propTypes = {\r\n    children: PropTypes.instanceOf(Array).isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activeTab: this.props.children[0].props.label,\r\n    };\r\n  }\r\n\r\n  onClickTabItem = tab => {\r\n    this.setState({ activeTab: tab });\r\n  };\r\n  render() {\r\n    const {\r\n      onClickTabItem,\r\n      props: { children },\r\n      state: { activeTab },\r\n    } = this;\r\n\r\n    return (\r\n      <div className=\"tabs\">\r\n        <ol className=\"tab-list\">\r\n          {children.map(child => {\r\n            const { label } = child.props;\r\n\r\n            return (\r\n              <Tab\r\n                activeTab={activeTab}\r\n                key={label}\r\n                label={label}\r\n                onClick={onClickTabItem}\r\n              />\r\n            );\r\n          })}\r\n        </ol>\r\n        <div className=\"tab-content\">\r\n          {children.map(child => {\r\n            if (child.props.label !== activeTab) return undefined;\r\n            return child.props.children;\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//#endregion\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { signInWithGoogle, signOut } from \"../firebase\";\r\n\r\n// import components\r\nimport { Logo, Button as MyButton } from \"./Components\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useNavigate } from \"@reach/router\";\r\n\r\n// import styles\r\nimport \"./NavBar.css\";\r\n\r\nconst NavBar = ({ onLogoClick, onHamburgerClick, showHamburger }) => {\r\n  const user = useContext(UserContext);\r\n  const [showModule, setShowModule] = useState(false);\r\n\r\n  const toggleModule = () => {\r\n    setShowModule((prevState) => !prevState);\r\n  };\r\n\r\n  // hide NavModule on mount\r\n  useEffect(() => {\r\n    setShowModule(false);\r\n  }, [user]);\r\n\r\n  const NavModule = (props) => {\r\n    // click outside to close module method\r\n    const onClickOutsideListener = () => {\r\n      setShowModule(false);\r\n      // removeEventListener to not listen to document.click when module is closed\r\n      document.removeEventListener(\"click\", onClickOutsideListener);\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className={props.showModule ? \"\" : \"hide\"}\r\n        id=\"nav__module\"\r\n        onMouseLeave={() => {\r\n          // if mouse leave the element then addEventListener\r\n          // to listen to document.click\r\n          document.addEventListener(\"click\", onClickOutsideListener);\r\n        }}\r\n      >\r\n        <section id=\"module-info-sect\">\r\n          <div className=\"big-avatar-container\">\r\n            <img\r\n              src={\r\n                user.photoURL ||\r\n                \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y\"\r\n              }\r\n              alt=\"avatar\"\r\n            />\r\n          </div>\r\n          <h4 className=\"display-name\">{user.displayName}</h4>\r\n          <p className=\"display-email\">{user.email}</p>\r\n        </section>\r\n        <section id=\"module-signout-sect\">\r\n          <div>\r\n            <MyButton\r\n              className=\"new module-btn\"\r\n              onClick={() => {\r\n                signInWithGoogle().then(() => {\r\n                  window.location.href = \"/\";\r\n                });\r\n              }}\r\n            >\r\n              Chuyển <br /> tài khoản\r\n            </MyButton>\r\n          </div>\r\n          <div>\r\n            <MyButton\r\n              className=\"sign-out module-btn\"\r\n              onClick={() => signOut(() => (window.location.href = \"/\"))}\r\n            >\r\n              Đăng xuất\r\n            </MyButton>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"navbar\">\r\n        {showHamburger && (\r\n          <IconButton className=\"navbar-mainmenu\" onClick={onHamburgerClick}>\r\n            <i className=\"fas fa-bars\" />\r\n          </IconButton>\r\n        )}\r\n\r\n        <Logo\r\n          style={onLogoClick && { cursor: \"pointer\" }}\r\n          onClick={onLogoClick}\r\n        />\r\n\r\n        <div className=\"sign-in-container\">\r\n          {!!user ? (\r\n            <>\r\n              <img\r\n                className=\"nav-avatar\"\r\n                src={\r\n                  user.photoURL ||\r\n                  \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y\"\r\n                }\r\n                alt=\"avatar\"\r\n                onClick={() => toggleModule()}\r\n              />\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Button\r\n                color=\"primary\"\r\n                className=\"sign-in\"\r\n                onClick={() => signInWithGoogle()}\r\n              >\r\n                Đăng Nhập\r\n              </Button>\r\n            </>\r\n          )}\r\n        </div>\r\n        {!!user && <NavModule showModule={showModule} />}\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport Calendar from \"react-calendar\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// import components\r\nimport { LinkButton, DropDownHoverButton } from \"./Components\";\r\n\r\n// import styles\r\nimport \"./LeftMenu.css\";\r\n\r\nconst LeftMenu = ({\r\n  visible,\r\n  calendarOnChange,\r\n  calendarValue,\r\n  showScheduler,\r\n}) => {\r\n  showScheduler = !showScheduler && null;\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`left-menu ${visible ? \"show-left-menu\" : \"hide-left-menu\"}`}\r\n      >\r\n        <LinkButton to=\"/timetable\">\r\n          <div>Thời khóa biểu</div>\r\n        </LinkButton>\r\n\r\n        <DropDownHoverButton\r\n          children=\"Quản lý đào tạo\"\r\n          item1={\r\n            <>\r\n              Khoa <i className=\"fas fa-chalkboard-teacher\" />\r\n            </>\r\n          }\r\n          item1Link=\"mng-faculties\"\r\n          item2={\r\n            <>\r\n              Nhân sự <i className=\"fas fa-users\" />\r\n            </>\r\n          }\r\n          item2Link=\"mng-lectures\"\r\n          item3={\r\n            <>\r\n              Môn học <i className=\"fas fa-book\" />\r\n            </>\r\n          }\r\n          item3Link=\"mng-subjects\"\r\n        />\r\n\r\n        <Calendar\r\n          onChange={calendarOnChange}\r\n          value={calendarValue}\r\n          className={[\"calendar calendar__left-menu\"]}\r\n          locale=\"vi-VN\"\r\n          showNeighboringMonth={false}\r\n          nextLabel={<i className=\"fas fa-angle-right\" />}\r\n          next2Label={<i className=\"fas fa-angle-double-right\" />}\r\n          prevLabel={<i className=\"fas fa-angle-left\" />}\r\n          prev2Label={<i className=\"fas fa-angle-double-left\" />}\r\n        />\r\n\r\n        {/* <LinkButton to=\"/teacher-time-table\">\r\n          <div>Thời khóa biểu của giảng viên</div>\r\n        </LinkButton>\r\n\r\n        <LinkButton to=\"/schedule-timetable\">\r\n          <div>Chỉnh sửa thời khóa biểu</div>\r\n        </LinkButton> */}\r\n\r\n        {showScheduler && (\r\n          <>\r\n            <div className=\"board-column-header\">Thứ 2</div>\r\n            <div className=\"board-column-content-wrapper\">\r\n              <div className=\"board-column-content\">\r\n                <div class=\"board-item\">\r\n                  <div class=\"board-item-content\">\r\n                    <span>Item #</span>1\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nLeftMenu.propTypes = {\r\n  visible: PropTypes.bool,\r\n  calendarOnChange: PropTypes.func,\r\n  calendarValue: PropTypes.object,\r\n  showScheduler: PropTypes.bool,\r\n};\r\n\r\nexport default LeftMenu;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { CardActionArea } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainFeaturedPost: {\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.grey[800],\r\n    color: theme.palette.common.white,\r\n    marginBottom: theme.spacing(4),\r\n    backgroundImage: 'url(https://source.unsplash.com/random)',\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundPosition: 'center',\r\n  },\r\n  overlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n    left: 0,\r\n    backgroundColor: 'rgba(0,0,0,.3)',\r\n  },\r\n  mainFeaturedPostContent: {\r\n    position: 'relative',\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.up('md')]: {\r\n      padding: theme.spacing(6),\r\n      paddingRight: 0,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function MainFeaturedPost(props) {\r\n  const classes = useStyles();\r\n  const { post } = props;\r\n\r\n  return (\r\n    <CardActionArea target=\"_blank\" component=\"a\" href={post.link}>\r\n      <Paper\r\n        className={classes.mainFeaturedPost}\r\n        style={{ backgroundImage: `url(${post.image})`, minHeight: '40vh' }}\r\n      >\r\n        {\r\n          <img\r\n            style={{ display: 'none' }}\r\n            src={post.image}\r\n            alt={post.imageText}\r\n          />\r\n        }\r\n        <div className={classes.overlay} />\r\n        <Grid container>\r\n          <Grid item md={6}>\r\n            <div className={classes.mainFeaturedPostContent}>\r\n              <Typography\r\n                component=\"h1\"\r\n                variant=\"h3\"\r\n                color=\"inherit\"\r\n                gutterBottom\r\n              >\r\n                {post.title}\r\n              </Typography>\r\n              <Typography variant=\"h5\" color=\"inherit\" paragraph>\r\n                {post.description}\r\n              </Typography>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </CardActionArea>\r\n  );\r\n}\r\n\r\nMainFeaturedPost.propTypes = {\r\n  post: PropTypes.object,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport unknownUser from './unknownUser.jpg';\r\nimport { IconButton } from '@material-ui/core';\r\nimport FacebookIcon from '@material-ui/icons/Facebook';\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    display: 'flex',\r\n    minHeight: '20vh',\r\n  },\r\n  cardDetails: {\r\n    flex: 1,\r\n  },\r\n  cardMedia: {\r\n    width: '20vh',\r\n  },\r\n});\r\n\r\nexport default function FeaturedPost(props) {\r\n  const classes = useStyles();\r\n  const { post } = props;\r\n\r\n  return (\r\n    <Grid item xs={12} md={4}>\r\n      <CardActionArea component=\"a\" target=\"_blank\" href={post.link}>\r\n        <Card className={classes.card}>\r\n          <div className={classes.cardDetails}>\r\n            <CardContent>\r\n              <Typography component=\"h2\" variant=\"h5\">\r\n                {post.title}\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                {post.date}\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\" paragraph>\r\n                {post.description}\r\n              </Typography>\r\n            </CardContent>\r\n          </div>\r\n          <Hidden xsDown>\r\n            <CardMedia\r\n              className={classes.cardMedia}\r\n              image={post.image || unknownUser}\r\n              title={post.imageTitle}\r\n            />\r\n          </Hidden>\r\n        </Card>\r\n      </CardActionArea>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nFeaturedPost.propTypes = {\r\n  post: PropTypes.object,\r\n};\r\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/uhl.b277bfc8.jpg\";","export default __webpack_public_path__ + \"static/media/NTM.0ecc23f1.jpg\";","export default __webpack_public_path__ + \"static/media/LAT.c97fcfad.jpg\";","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import components\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport MainFeaturedPost from './HeroImage';\r\nimport FeaturedPost from './FeaturedUser';\r\nimport { Typography } from '@material-ui/core';\r\nimport uhl from './uhl.jpg';\r\nimport NTM from './NTM.jpg';\r\nimport LAT from './LAT.jpg';\r\n\r\n// import styles\r\nimport './Home.css';\r\n\r\nconst mainFeaturedPost = {\r\n  title: 'ĐẠI HỌC HẠ LONG',\r\n  description: 'Học đi đôi với hành | Học để làm người | Học để thành công',\r\n  image: uhl,\r\n  link: 'http://uhl.edu.vn/',\r\n};\r\n\r\nconst featuredPosts = [\r\n  {\r\n    title: 'Nguyễn Trường Minh',\r\n    date: 'Thành viên nhóm',\r\n    description: 'Người đưa phần mềm từ suy nghĩ thành hiện thực.',\r\n    image: NTM,\r\n    link: 'https://www.facebook.com/sipp.minhh/',\r\n  },\r\n  {\r\n    title: 'Lê Anh Tú',\r\n    date: 'Giảng viên hướng dẫn',\r\n    description: 'Người vun góp ý tưởng.',\r\n    image: LAT,\r\n    link: 'https://www.facebook.com/anhtucntt',\r\n  },\r\n  {\r\n    title: 'Phạm Nguyên Hồng',\r\n    date: 'Thành viên nhóm',\r\n    description: 'Hậu phương phía sau.',\r\n    // image: LAT,\r\n    link: 'https://www.facebook.com/profile.php?id=100032895618007',\r\n  },\r\n];\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"\">\r\n        <main>\r\n          <MainFeaturedPost post={mainFeaturedPost} />\r\n          <h1 id=\"title\" align=\"center\">\r\n            Thành Viên Nhóm\r\n          </h1>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <p className=\"date\">29-4-2020</p>\r\n          </div>\r\n          <Grid container spacing={4}>\r\n            {featuredPosts.map(post => (\r\n              <FeaturedPost key={post.title} post={post} />\r\n            ))}\r\n          </Grid>\r\n        </main>\r\n        <h1\r\n          style={{\r\n            margin: 20,\r\n            color: '#c9d0d4',\r\n            fontFamily: 'Helvetica Neue, sans-serif',\r\n            fontSize: '46px',\r\n          }}\r\n          align=\"center\"\r\n        >\r\n          Xin Cảm Ơn!\r\n        </h1>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\n// import components\r\nimport { setNewSemester } from \"../../firebase\";\r\nimport { UserContext } from \"../../providers/UserProvider\";\r\nimport Calendar from \"react-calendar\";\r\nimport { Button } from \"../Components\";\r\nimport { useNavigate } from \"@reach/router\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/vi\";\r\n\r\n// import styles\r\nimport \"./TimeTableNew.css\";\r\n\r\nfunction weekCount(time1, time2) {\r\n  const diff = time1.diff(time2, \"week\");\r\n  return diff;\r\n}\r\n\r\nconst TimeTableNew = () => {\r\n  const currentUser = useContext(UserContext);\r\n  const navigate = useNavigate();\r\n  moment.locale(\"vi\");\r\n  moment.defaultFormat = \"dddd LL\";\r\n\r\n  // start and end of semester\r\n  const [calendarStartValue, onStartValueChange] = useState(moment().hour(\"0\"));\r\n  const [calendarEndValue, onEndValueChange] = useState(moment().hour(\"0\"));\r\n\r\n  // semester name for UX\r\n  const [semName, setSemName] = useState(\"\");\r\n\r\n  const handleOnSubmit = (e) => {\r\n    e.preventDefault();\r\n    const values = {\r\n      userNamed:\r\n        semName || calendarStartValue.year() + \"-\" + calendarEndValue.year(),\r\n      semesterStart: moment(calendarStartValue),\r\n      semesterEnd: moment(calendarEndValue),\r\n      numberOfWeeks: weekCount(calendarEndValue, calendarStartValue),\r\n      timeCreated: moment(),\r\n    };\r\n    setNewSemester(values);\r\n    navigate(\"/timetable\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(calendarStartValue);\r\n  }, [calendarStartValue]);\r\n\r\n  return (\r\n    <>\r\n      {!!currentUser ? (\r\n        <>\r\n          <h1>Cùng nhau tạo thời khóa biểu mới!</h1>\r\n          {/* <div>Bước đầu: Chọn thời gian mà kì học của bạn diễn ra</div> */}\r\n          <br />\r\n          <form onSubmit={handleOnSubmit}>\r\n            <label>\r\n              <span className=\"label__new\">Tên thời khóa biểu</span>\r\n              <input\r\n                className=\"sem-name__input\"\r\n                name=\"sem-name\"\r\n                value={semName}\r\n                onChange={({ target }) => setSemName(target.value)}\r\n                placeholder=\"Tên kì học có thể giúp bạn dễ ghi nhớ hơn...\"\r\n              />\r\n            </label>\r\n            <section className=\"date-picker__section\">\r\n              <div className=\"new__date-picker\">\r\n                <div className=\"picker_span\">\r\n                  <span className=\"label__new\">Ngày Bắt đầu</span>\r\n                  <span>{moment(calendarStartValue).format(\"LL\")}</span>\r\n                </div>\r\n                <Calendar\r\n                  onChange={(value) => onStartValueChange(moment(value))}\r\n                  value={new Date(calendarStartValue)}\r\n                  className={[\"calendar calendar__main\"]}\r\n                  locale=\"vi-VN\"\r\n                  nextLabel={<i className=\"fas fa-angle-right\" />}\r\n                  next2Label={<i className=\"fas fa-angle-double-right\" />}\r\n                  prevLabel={<i className=\"fas fa-angle-left\" />}\r\n                  prev2Label={<i className=\"fas fa-angle-double-left\" />}\r\n                />\r\n              </div>\r\n              <span className=\"to-text\">đến</span>\r\n              <div className=\"new__date-picker\">\r\n                <div className=\"picker_span\">\r\n                  <span className=\"label__new\">Ngày Kết thúc</span>\r\n                  <span>{moment(calendarEndValue).format(\"LL\")}</span>\r\n                </div>\r\n                <Calendar\r\n                  onChange={(value) => onEndValueChange(moment(value))}\r\n                  value={new Date(calendarEndValue)}\r\n                  className={[\"calendar calendar__main\"]}\r\n                  locale=\"vi-VN\"\r\n                  nextLabel={<i className=\"fas fa-angle-right\" />}\r\n                  next2Label={<i className=\"fas fa-angle-double-right\" />}\r\n                  prevLabel={<i className=\"fas fa-angle-left\" />}\r\n                  prev2Label={<i className=\"fas fa-angle-double-left\" />}\r\n                />\r\n              </div>\r\n            </section>\r\n            <Button\r\n              style={{ marginLeft: \"auto\", width: \"25%\" }}\r\n              className=\"new\"\r\n              type=\"submit\"\r\n              onClick={handleOnSubmit}\r\n            >\r\n              Tạo mới{\" \"}\r\n              <i style={{ marginLeft: 10 }} className=\"fas fa-arrow-right\" />\r\n            </Button>\r\n          </form>\r\n        </>\r\n      ) : (\r\n        <div>Đăng nhập để tiếp tục</div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TimeTableNew;\r\n","import React from \"react\";\r\n\r\n// import components\r\nimport Muuri from \"muuri\";\r\n\r\n// import styles\r\nimport \"./TeacherTimeTable.css\";\r\n\r\nconst TeacherTimeTable = () => {\r\n\tReact.useEffect(() => {\r\n\t\tvar itemContainers = [].slice.call(\r\n\t\t\tdocument.querySelectorAll(\".board-column-content\")\r\n\t\t);\r\n\t\tvar columnGrids = [];\r\n\r\n\t\t// Init the column grids so we can drag those items around.\r\n\t\titemContainers.forEach(function (container) {\r\n\t\t\tvar grid = new Muuri(container, {\r\n\t\t\t\titems: \".board-item\",\r\n\t\t\t\tdragEnabled: true,\r\n\t\t\t\tdragAxis: \"xy\",\r\n\t\t\t\tdragPlaceholder: {enabled: true},\r\n\t\t\t\tdragSort: function () {\r\n\t\t\t\t\treturn columnGrids;\r\n\t\t\t\t},\r\n\t\t\t\tdragContainer: document.body,\r\n\t\t\t\tdragAutoScroll: {\r\n\t\t\t\t\ttargets: (item) => {\r\n\t\t\t\t\t\treturn [\r\n\t\t\t\t\t\t\t{element: window, priority: 0},\r\n\t\t\t\t\t\t\t{element: item.getGrid().getElement().parentNode, priority: 1},\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tdragRelease: {\r\n\t\t\t\t\tduration: 100,\r\n\t\t\t\t\teasing: \"ease\",\r\n\t\t\t\t\tuseDragContainer: true,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.on(\"dragInit\", function (item) {\r\n\t\t\t\t\titem.getElement().style.width = item.getWidth() + \"px\";\r\n\t\t\t\t\titem.getElement().style.height = item.getHeight() + \"px\";\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"dragReleaseEnd\", function (item) {\r\n\t\t\t\t\titem.getElement().style.width = \"\";\r\n\t\t\t\t\titem.getElement().style.height = \"\";\r\n\t\t\t\t\titem.getGrid().refreshItems([item]);\r\n\t\t\t\t});\r\n\r\n\t\t\tcolumnGrids.push(grid);\r\n\t\t});\r\n\t}, []);\r\n\r\n\t// var columns = document.getElementsByClassName(\"board-column-content\");\r\n\r\n\t// const BoardItem = ({subject, teacher, lessonCount}) => {\r\n\t// \tconst [height, setHeight] = React.useState();\r\n\r\n\t// \tReact.useEffect(() => setHeight(lessonCount * 30), []);\r\n\r\n\t// \treturn (\r\n\t// \t\t<div\r\n\t// \t\t\tclassName=\"board-item\"\r\n\t// \t\t\tstyle={{height: `${height}px`}}\r\n\t// \t\t\tdata-lessonCount={lessonCount}\r\n\t// \t\t>\r\n\t// \t\t\t<div className=\"board-item-content\">\r\n\t// \t\t\t\t<span className=\"board-item-content-subject\">{subject}</span>\r\n\t// \t\t\t\t<br />\r\n\t// \t\t\t\t<span className=\"board-item-content-teacher\">{teacher}</span>\r\n\t// \t\t\t</div>\r\n\t// \t\t</div>\r\n\t// \t);\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"main-content\">\r\n\t\t\t\t<div className=\"board\">\r\n\t\t\t\t\t<div className=\"board-column mon\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 2</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column tue\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 3</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column wed\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 4</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column thu\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 5</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column fri\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 6</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column sat\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 7</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column sun\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">\r\n\t\t\t\t\t\t\t\t<span>Chủ Nhật</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\"></div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TeacherTimeTable;\r\n","import React from \"react\";\r\n\r\n// import components\r\nimport Muuri from \"muuri\";\r\n\r\n// import styles\r\nimport \"./ScheduleTimeTable.css\";\r\n\r\nconst ScheduleTimeTable = () => {\r\n\tReact.useEffect(() => {\r\n\t\tvar dragContainer = document.querySelector(\".drag-container\");\r\n\t\tvar itemContainers = [].slice.call(\r\n\t\t\tdocument.querySelectorAll(\".board-column-content\")\r\n\t\t);\r\n\t\tvar columnGrids = [];\r\n\r\n\t\t// Init the column grids so we can drag those items around.\r\n\t\titemContainers.forEach((container) => {\r\n\t\t\tvar grid = new Muuri(container, {\r\n\t\t\t\titems: \".board-item\",\r\n\t\t\t\tdragEnabled: true,\r\n\t\t\t\tdragAxis: \"xy\",\r\n\t\t\t\tdragPlaceholder: { enabled: true },\r\n\t\t\t\tdragSort: function () {\r\n\t\t\t\t\treturn columnGrids;\r\n\t\t\t\t},\r\n\t\t\t\tdragContainer: document.body,\r\n\t\t\t\tdragAutoScroll: {\r\n\t\t\t\t\ttargets: (item) => {\r\n\t\t\t\t\t\treturn [\r\n\t\t\t\t\t\t\t{ element: window, priority: 0 },\r\n\t\t\t\t\t\t\t{ element: item.getGrid().getElement().parentNode, priority: 1 },\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tdragRelease: {\r\n\t\t\t\t\tduration: 100,\r\n\t\t\t\t\teasing: \"ease\",\r\n\t\t\t\t\tuseDragContainer: true,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.on(\"dragInit\", function (item) {\r\n\t\t\t\t\titem.getElement().style.width = item.getWidth() + \"px\";\r\n\t\t\t\t\titem.getElement().style.height = item.getHeight() + \"px\";\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"dragReleaseEnd\", function (item) {\r\n\t\t\t\t\titem.getElement().style.width = \"\";\r\n\t\t\t\t\titem.getElement().style.height = \"\";\r\n\t\t\t\t\titem.getGrid().refreshItems([item]);\r\n\t\t\t\t});\r\n\r\n\t\t\tcolumnGrids.push(grid);\r\n\t\t});\r\n\t}, []);\r\n\r\n\t// var columns = document.getElementsByClassName(\"board-column-content\");\r\n\r\n\t// const BoardItem = ({subject, teacher, lessonCount}) => {\r\n\t// \tconst [height, setHeight] = React.useState();\r\n\r\n\t// \tReact.useEffect(() => setHeight(lessonCount * 30), []);\r\n\r\n\t// \treturn (\r\n\t// \t\t<div\r\n\t// \t\t\tclassName=\"board-item\"\r\n\t// \t\t\tstyle={{height: `${height}px`}}\r\n\t// \t\t\tdata-lessonCount={lessonCount}\r\n\t// \t\t>\r\n\t// \t\t\t<div className=\"board-item-content\">\r\n\t// \t\t\t\t<span className=\"board-item-content-subject\">{subject}</span>\r\n\t// \t\t\t\t<br />\r\n\t// \t\t\t\t<span className=\"board-item-content-teacher\">{teacher}</span>\r\n\t// \t\t\t</div>\r\n\t// \t\t</div>\r\n\t// \t);\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"main-content\">\r\n\t\t\t\t<div className=\"board\">\r\n\t\t\t\t\t<div className=\"board-column mon\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 2</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column tue\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 3</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column wed\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 4</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column thu\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 5</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column fri\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 6</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column sat\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">Thứ 7</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>1\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>2\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>3\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>4\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-item-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Item #</span>5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"board-column sun\">\r\n\t\t\t\t\t\t<div className=\"board-column-container\">\r\n\t\t\t\t\t\t\t<div className=\"board-column-header\">\r\n\t\t\t\t\t\t\t\t<span>Chủ Nhật</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"board-column-content-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\"></div>\r\n\t\t\t\t\t\t\t\t<div className=\"board-column-content\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ScheduleTimeTable;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\n// import components\r\nimport { Button } from \"../../Components\";\r\nimport { Form } from \"semantic-ui-react\";\r\n\r\nconst FormFaculties = ({\r\n\tcurrentFacultyId,\r\n\tfacultiesObj,\r\n\thandleOnAdd,\r\n\thandleOnModify,\r\n\tsetCurrentFacultyId,\r\n}) => {\r\n\tconst initialState = {\r\n\t\t\"faculty-id\": \"\",\r\n\t\t\"faculty-name\": \"\",\r\n\t\t\"faculty-note\": \"\",\r\n\t};\r\n\r\n\tconst [values, setValues] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentFacultyId == \"\") {\r\n\t\t\tsetValues({ ...initialState });\r\n\t\t} else {\r\n\t\t\tsetValues({ ...facultiesObj[currentFacultyId] });\r\n\t\t}\r\n\t}, [currentFacultyId, facultiesObj]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tconsole.log(values);\r\n\t// }, [values]);\r\n\r\n\tconst handleInputChange = (e) => {\r\n\t\tvar { name, value } = e.target;\r\n\t\tsetValues({ ...values, [name]: value });\r\n\t};\r\n\r\n\tconst handleButtonAdd = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tawait handleOnAdd({ values });\r\n\t\t\tsetValues(initialState);\r\n\t\t} catch (e) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleButtonModify = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tawait handleOnModify(values);\r\n\t\t\tsetValues(initialState);\r\n\t\t} catch (e) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form id=\"manage__form\">\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel=\"Tên khoa\"\r\n\t\t\t\t\ttitle=\"Tên khoa\"\r\n\t\t\t\t\tclassName=\"left-align\"\r\n\t\t\t\t\tplaceholder=\"Tên khoa\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"faculty-name\"\r\n\t\t\t\t\tvalue={values[\"faculty-name\"]}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.TextArea\r\n\t\t\t\t\tlabel=\"Ghi chú\"\r\n\t\t\t\t\ttitle=\"Ghi chú\"\r\n\t\t\t\t\tname=\"faculty-note\"\r\n\t\t\t\t\tplaceholder=\"Ghi Chú\"\r\n\t\t\t\t\tstyle={{ marginBottom: 10 }}\r\n\t\t\t\t\tcols=\"20\"\r\n\t\t\t\t\trows=\"10\"\r\n\t\t\t\t\tvalue={values[\"faculty-note\"]}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{currentFacultyId ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: \"0\" }}\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"new\"\r\n\t\t\t\t\t\t\t\ttitle=\"Chỉnh sửa khoa\"\r\n\t\t\t\t\t\t\t\tonClick={handleButtonModify}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tChỉnh Sửa\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: \"0\" }}\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"new\"\r\n\t\t\t\t\t\t\t\ttitle=\"Thêm khoa mới vào hệ thống\"\r\n\t\t\t\t\t\t\t\tonClick={handleButtonAdd}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{currentFacultyId && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: \"0\" }}\r\n\t\t\t\t\t\t\t\tclassName=\"sign-out\"\r\n\t\t\t\t\t\t\t\ttitle=\"Hủy chỉnh sửa\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetCurrentFacultyId(\"\");\r\n\t\t\t\t\t\t\t\t\tsetValues(initialState);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormFaculties;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\n// import components\r\nimport FormFaculties from \"./FormFaculties\";\r\nimport {\r\n  getAllFaculties,\r\n  setNewFaculty,\r\n  removeFaculty,\r\n} from \"../../../firebase\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport { Loading, Button, FileDropzone } from \"../../Components\";\r\nimport {\r\n  readExcel,\r\n  defaultFailCB,\r\n  exists,\r\n  getHeaderRow,\r\n  getFacID,\r\n} from \"../../../utils\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\n\r\nimport \"ag-grid-enterprise\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine-dark.css\";\r\n\r\n// import styles\r\nimport \"./Manage.css\";\r\n\r\nconst ManageFaculties = () => {\r\n  //#region Component State\r\n\r\n  const [gridApi, setGridApi] = useState(null);\r\n  const [gridColumnApi, setGridColumnApi] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [rowData, setRowData] = useState([]);\r\n\r\n  const [facultiesObj, setFacultiesObj] = useState({});\r\n  const [currentFacultyId, setCurrentFacultyId] = useState(\"\");\r\n  const [excelLoadedItems, setExcelLoadedItems] = useState([]);\r\n\r\n  const gridOptions = {\r\n    columnDefs: [\r\n      {\r\n        field: \"id\",\r\n        headerName: \"STT\",\r\n        checkboxSelection: true,\r\n        headerCheckboxSelection: true,\r\n        editable: false,\r\n        maxWidth: 120,\r\n      },\r\n      { field: \"facultyId\", headerName: \"Mã Khoa\" },\r\n      { field: \"facultyName\", headerName: \"Tên Khoa\" },\r\n    ],\r\n    defaultColDef: {\r\n      flex: 1,\r\n    },\r\n    rowSelection: \"multiple\",\r\n  };\r\n\r\n  const contextMenuItems = (params) => [\r\n    \"copy\",\r\n    \"copyWithHeaders\",\r\n    \"separator\",\r\n    \"export\",\r\n  ];\r\n\r\n  //#endregion\r\n\r\n  //#region Component\r\n\r\n  const FacultyItemToAdd = ({ onAdd, index, facultyName }) => {\r\n    return (\r\n      <li key={index} className=\"excel__list-li_item\">\r\n        <p>{facultyName}</p>\r\n        <span className=\"btn__trash add\" onClick={onAdd}>\r\n          <i className=\"far fa-plus-square\" />\r\n        </span>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region Hooks\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const allFaculties = await getAllFaculties();\r\n      Promise.all([setFacultiesObj(allFaculties), setIsLoading(false)]);\r\n\r\n      const subjectRows = Object.keys(allFaculties).map((facultyKey, index) => {\r\n        return {\r\n          id: index + 1,\r\n          facultyId: facultyKey,\r\n          facultyName: allFaculties[facultyKey][\"faculty-name\"],\r\n        };\r\n      });\r\n\r\n      setRowData(subjectRows);\r\n    }\r\n\r\n    if (isLoading) {\r\n      fetchData();\r\n    }\r\n  }, [isLoading]); // fetching faculties list on componentUpdate\r\n\r\n  function onGridReady(params) {\r\n    setGridApi(params.api);\r\n    setGridColumnApi(params.columnApi);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Component Method\r\n\r\n  // handle on file drop with dropzone\r\n  const handleDropped = (files) => handleExcelLoad(files[0]);\r\n\r\n  const handleDownloadTemplateFile = () =>\r\n    window.open(\r\n      \"https://drive.google.com/file/d/16xqql9RI8iowKy_q1tuC7BCkE0J8YmlN/view?usp=sharing\",\r\n      \"_blank\",\r\n      \"\"\r\n    );\r\n\r\n  function handleOnAdd({\r\n    values,\r\n    shouldRemoveChild = false,\r\n    event = undefined,\r\n  }) {\r\n    //remove li element on add\r\n    const removeLi = () => {\r\n      const thisLi = event.target.closest(\"li\");\r\n      let nodes = Array.from(thisLi.closest(\"ul\").children); // get array\r\n      let index = nodes.indexOf(thisLi);\r\n      if (index >= 0) {\r\n        const tempArr = [...excelLoadedItems];\r\n        tempArr.splice(index, 1);\r\n        setExcelLoadedItems(tempArr);\r\n      }\r\n    };\r\n    // Trả về Promise để Form đợi tới khi người dùng chọn tùy chọn\r\n    return new Promise((resolve, reject) => {\r\n      if (values[\"faculty-name\"] !== \"\") {\r\n        let facID = getFacID(values[\"faculty-name\"]);\r\n        values[\"faculty-id\"] = facID;\r\n        if (values[\"faculty-id\"] in facultiesObj) {\r\n          confirmAlert({\r\n            title: \"Bạn có muốn thay đổi tên khoa?\",\r\n            message: \"Mã khoa này đã tồn tại\",\r\n            buttons: [\r\n              {\r\n                className: \"confirm__cancel\",\r\n                label: \"Hủy\",\r\n                onClick: () => reject(),\r\n              },\r\n              {\r\n                className: \"new\",\r\n                label: \"Thay Đổi\",\r\n                onClick: () => {\r\n                  setNewFaculty(values);\r\n                  setIsLoading(true);\r\n                  resolve();\r\n                  shouldRemoveChild && removeLi();\r\n                },\r\n              },\r\n            ],\r\n          });\r\n        } else {\r\n          setNewFaculty(values);\r\n          setIsLoading(true);\r\n          resolve();\r\n          shouldRemoveChild && removeLi();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleOnModify(values) {\r\n    return new Promise((resolve) => {\r\n      let id = getFacID(values[\"faculty-name\"]);\r\n      values[\"faculty-id\"] = id;\r\n\r\n      if (id !== currentFacultyId) {\r\n        if (values[\"faculty-id\"] in facultiesObj) {\r\n          confirmAlert({\r\n            closeOnEscape: true,\r\n            title: \"Bạn có muốn thay đổi tên khoa?\",\r\n            message: \"Mã khoa này đã tồn tại\",\r\n            buttons: [\r\n              {\r\n                className: \"confirm__cancel\",\r\n                label: \"Hủy\",\r\n                onClick: () => resolve(),\r\n              },\r\n              {\r\n                className: \"new\",\r\n                label: \"Thay Đổi\",\r\n                onClick: () => {\r\n                  removeFaculty(currentFacultyId);\r\n                  setNewFaculty(values);\r\n                  resolve(true);\r\n                },\r\n              },\r\n            ],\r\n          });\r\n        } else {\r\n          setNewFaculty(values);\r\n          resolve(true);\r\n        }\r\n      } else {\r\n        setNewFaculty(values);\r\n      }\r\n      // Đặt lại id thành null để reset Form\r\n      setCurrentFacultyId(\"\");\r\n      resolve(true);\r\n    });\r\n  }\r\n\r\n  function handleOnRemove() {\r\n    confirmAlert({\r\n      title: `Bạn có chắc muốn xóa ${selectedRows.length} khoa?`,\r\n      message: \"Bạn sẽ không thể truy cập lại thông tin này\",\r\n      buttons: [\r\n        {\r\n          className: \"confirm__cancel\",\r\n          label: \"Hủy\",\r\n        },\r\n        {\r\n          className: \"sign-out\",\r\n          label: \"Xóa\",\r\n          onClick: () => {\r\n            selectedRows.forEach((row) => {\r\n              removeFaculty(row?.facultyId);\r\n            });\r\n            setCurrentFacultyId(\"\");\r\n            setIsLoading(true);\r\n            setSelectedRows([]);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  async function handleExcelLoad(file) {\r\n    const objHeaders = [\"faculty-name\", \"faculty-note\"];\r\n    try {\r\n      const data = await readExcel(file, objHeaders);\r\n      const headers = await getHeaderRow(file);\r\n      if (\r\n        headers.length > 0 &&\r\n        headers[0].toUpperCase() === \"Tên khoa\".toUpperCase() &&\r\n        headers[1].toUpperCase() === \"ghi chú\".toUpperCase()\r\n      ) {\r\n        if (data.length === 0) {\r\n          setExcelLoadedItems(null);\r\n        } else {\r\n          setExcelLoadedItems(data);\r\n        }\r\n      } else {\r\n        throw new Error(\"Tệp excel không đúng tên cột\");\r\n      }\r\n    } catch (err) {\r\n      defaultFailCB(err);\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n\r\n  return isLoading ? (\r\n    <Loading />\r\n  ) : (\r\n    <div className=\"mng-container\">\r\n      <div className=\"form-list__container\">\r\n        <div className=\"form__container\">\r\n          {\r\n            // render button if excel loaded at least 1 row\r\n            !!excelLoadedItems.length && (\r\n              <Button\r\n                style={{ marginBottom: 10 }}\r\n                className=\"delete\"\r\n                // clear items\r\n                onClick={() => setExcelLoadedItems([])}\r\n              >\r\n                Hủy\r\n              </Button>\r\n            )\r\n          }\r\n          {\r\n            // render excel loaded list items if it has at least 1 row or render dropzone_container\r\n            !!excelLoadedItems.length ? (\r\n              <ul id=\"excel__loaded-ul\">\r\n                {excelLoadedItems.map((values, index) => (\r\n                  <FacultyItemToAdd\r\n                    index={index}\r\n                    facultyName={values[\"faculty-name\"]}\r\n                    onAdd={(event) =>\r\n                      handleOnAdd({ values, shouldRemoveChild: true, event })\r\n                    }\r\n                  />\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <FileDropzone\r\n                {...{\r\n                  excelLoadedItems,\r\n                  handleDropped,\r\n                  handleDownloadTemplateFile,\r\n                }}\r\n              />\r\n            )\r\n          }\r\n          {\r\n            // remove form on list item has item\r\n            !!excelLoadedItems.length || (\r\n              <FormFaculties\r\n                {...{\r\n                  facultiesObj,\r\n                  currentFacultyId,\r\n                  setCurrentFacultyId,\r\n                  handleOnAdd,\r\n                  handleOnModify,\r\n                }}\r\n              />\r\n            )\r\n          }\r\n          {!!selectedRows.length && (\r\n            <Button\r\n              style={{ marginTop: 10 }}\r\n              className=\"delete\"\r\n              // clear items\r\n              onClick={handleOnRemove}\r\n            >\r\n              Xóa {selectedRows.length} Khoa\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <div\r\n          className=\"list__container faculties-list ag-theme-alpine-dark\"\r\n          style={{ height: \"100%\" }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            className=\"text__search\"\r\n            onChange={({ target }) => gridApi.setQuickFilter(target.value)}\r\n            placeholder=\"Tìm kiếm...\"\r\n          />\r\n          <div style={{ height: \"94%\" }}>\r\n            <AgGridReact\r\n              {...{ onGridReady, rowData, gridOptions }}\r\n              style={{ height: \"90%\" }}\r\n              columnDefs={gridOptions[\"columnDefs\"]}\r\n              defaultColDef={{ flex: 1 }}\r\n              enableRangeSelection={true}\r\n              pagination={true}\r\n              paginationPageSize={15}\r\n              rowMultiSelectWithClick={true}\r\n              suppressRowClickSelection={true}\r\n              getContextMenuItems={contextMenuItems}\r\n              overlayNoRowsTemplate={\r\n                \"Bạn chưa có dữ liệu nào trong cơ sở dữ liệu\"\r\n              }\r\n              onRowClicked={({ data }) =>\r\n                setCurrentFacultyId(data[\"facultyId\"])\r\n              }\r\n              onSelectionChanged={() => {\r\n                var selectedRows = gridApi.getSelectedRows();\r\n                setSelectedRows(selectedRows);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageFaculties;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\n// import components\r\nimport { Button } from \"../../Components\";\r\nimport { Form } from \"semantic-ui-react\";\r\n\r\nconst FormLectures = ({\r\n  handleOnModify,\r\n  handleOnAdd,\r\n  currentLectureId,\r\n  lecturesObj,\r\n  facultiesObj,\r\n  setCurrentLectureId,\r\n}) => {\r\n  const initialState = {\r\n    \"lecture-name\": \"\",\r\n    \"lecture-email\": \"\",\r\n    // faculty: \"--- Khoa ---\",\r\n    faculty: \"defaultValue\",\r\n  };\r\n\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    if (currentLectureId === \"\") {\r\n      setValues({ ...initialState });\r\n    } else {\r\n      setValues({ ...lecturesObj[currentLectureId] });\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [currentLectureId, lecturesObj]);\r\n\r\n  // useEffect(() => {\r\n  // \tconsole.log(currentLectureId, values);\r\n  // }, [values, currentLectureId]);\r\n\r\n  useEffect(() => {\r\n    if (currentLectureId) {\r\n      document.getElementById(\"lecture__select-faculty\").value =\r\n        lecturesObj[currentLectureId][\"faculty\"];\r\n    }\r\n  }, [currentLectureId, lecturesObj, facultiesObj]);\r\n\r\n  const handleInputChange = (e) => {\r\n    var { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const handleButtonAdd = async (e) => {\r\n    e.preventDefault();\r\n    await handleOnAdd({ values });\r\n    setValues(initialState);\r\n  };\r\n\r\n  const handleButtonModify = async (e) => {\r\n    e.preventDefault();\r\n    const resolve = await handleOnModify(currentLectureId, values);\r\n    resolve && setValues(initialState);\r\n  };\r\n\r\n  const cancelModify = () => {\r\n    setCurrentLectureId(\"\");\r\n    setValues(initialState);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form id=\"manage__form\">\r\n        <Form.Input\r\n          label=\"Họ tên\"\r\n          title=\"Họ tên giảng viên\"\r\n          className=\"left-align\"\r\n          placeholder=\"Họ tên giảng viên\"\r\n          type=\"text\"\r\n          name=\"lecture-name\"\r\n          id=\"lecture-name\"\r\n          value={values[\"lecture-name\"]}\r\n          onChange={handleInputChange}\r\n          required\r\n          autoFocus\r\n        />\r\n        <Form.Input\r\n          label=\"Email\"\r\n          title=\"Email\"\r\n          placeholder=\"Email\"\r\n          id=\"lecture-email\"\r\n          type=\"email\"\r\n          name=\"lecture-email\"\r\n          value={values[\"lecture-email\"]}\r\n          onChange={handleInputChange}\r\n        />\r\n        <label htmlFor=\"lecture__select-faculty\">Chọn Khoa</label>\r\n        <select\r\n          title=\"Chọn khoa\"\r\n          name=\"faculty\"\r\n          id=\"lecture__select-faculty\"\r\n          style={{ marginBottom: 10 }}\r\n          onChange={handleInputChange}\r\n          value={values.faculty}\r\n        >\r\n          <option disabled key=\"default\" value=\"defaultValue\">\r\n            {Object.keys(facultiesObj).length\r\n              ? \"--- Khoa ---\"\r\n              : \"Không có khoa nào\"}\r\n          </option>\r\n          {Object.keys(facultiesObj).length &&\r\n            Object.keys(facultiesObj).map((id) => {\r\n              return (\r\n                <option value={facultiesObj[id][\"faculty-name\"]} key={id}>\r\n                  {facultiesObj[id][\"faculty-name\"]}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n          <div>\r\n            {currentLectureId ? (\r\n              <Button\r\n                style={{ margin: 0, height: \"100%\" }}\r\n                type=\"submit\"\r\n                className=\"new\"\r\n                title=\"Chỉnh sửa khoa\"\r\n                onClick={handleButtonModify}\r\n              >\r\n                Chỉnh Sửa\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                style={{ margin: \"0\", height: \"100%\" }}\r\n                type=\"submit\"\r\n                className=\"new\"\r\n                title=\"Thêm giảng viên mới\"\r\n                onClick={handleButtonAdd}\r\n              >\r\n                Thêm\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <div>\r\n            {currentLectureId && (\r\n              <Button\r\n                style={{ margin: \"0\", height: \"100%\" }}\r\n                className=\"sign-out\"\r\n                title=\"Hủy chỉnh sửa\"\r\n                onClick={cancelModify}\r\n              >\r\n                Hủy\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FormLectures;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\n// import components\r\nimport FormLectures from \"./FormLectures\";\r\nimport {\r\n  newLecture,\r\n  modifyLecture,\r\n  removeLecture,\r\n  getAllLectures,\r\n  getAllFaculties,\r\n  setNewFaculty,\r\n} from \"../../../firebase\";\r\nimport { defaultFailCB, readExcel, exists, getFacID } from \"../../../utils\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport { Loading, Button, FileDropzone } from \"../../Components\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\n\r\n// import styles\r\nimport \"./Manage.css\";\r\nimport \"ag-grid-enterprise\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine-dark.css\";\r\n\r\nconst ManageLectures = () => {\r\n  //#region Component State\r\n  const gridOptions = {\r\n    columnDefs: [\r\n      {\r\n        field: \"id\",\r\n        headerName: \"STT\",\r\n        checkboxSelection: true,\r\n        headerCheckboxSelection: true,\r\n        editable: false,\r\n        maxWidth: 120,\r\n      },\r\n      { field: \"lectureName\", headerName: \"Tên Giảng Viên\" },\r\n      { field: \"faculty\", headerName: \"Khoa\" },\r\n    ],\r\n    defaultColDef: {\r\n      flex: 1,\r\n    },\r\n    rowSelection: \"multiple\",\r\n  };\r\n\r\n  const contextMenuItems = (params) => [\r\n    \"copy\",\r\n    \"copyWithHeaders\",\r\n    \"separator\",\r\n    \"export\",\r\n  ];\r\n\r\n  const [gridApi, setGridApi] = useState(null);\r\n  const [gridColumnApi, setGridColumnApi] = useState(null);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [rowData, setRowData] = useState([]);\r\n  const [lecturesObj, setLecturesObj] = useState({});\r\n  const [facultiesObj, setFacultiesObj] = useState({});\r\n  const [currentLectureId, setCurrentLectureId] = useState();\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [excelLoadedItems, setExcelLoadedItems] = useState([]);\r\n\r\n  //#endregion\r\n\r\n  //#region Components\r\n\r\n  const LectureListItem = ({ index, name, faculty, onRemove, onClick }) => {\r\n    return (\r\n      <>\r\n        <li key={index} className=\"list__container-li_item\" onClick={onClick}>\r\n          <p className=\"li__item-search\">{index + 1}</p>\r\n          <p className=\"li__item-search\">{name}</p>\r\n          <p className=\"li__item-search\">\r\n            {faculty !== \"defaultValue\" ? faculty : \"Không\"}\r\n          </p>\r\n          <span className=\"btn__trash trash\" onClick={() => onRemove(index)}>\r\n            <i className=\"far fa-trash\" />\r\n          </span>\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const LectureItemToAdd = ({ onAdd, index, lectureName }) => {\r\n    return (\r\n      <li key={index} className=\"excel__list-li_item\">\r\n        <div>\r\n          <p>{lectureName}</p>\r\n        </div>\r\n        <span className=\"btn__trash add\" onClick={onAdd}>\r\n          <i className=\"far fa-plus-square\" />\r\n        </span>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region Hooks\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const [allLectures, allFaculties] = await Promise.all([\r\n        getAllLectures(),\r\n        getAllFaculties(),\r\n      ]);\r\n\r\n      Promise.all([\r\n        setLecturesObj(allLectures),\r\n        setFacultiesObj(allFaculties),\r\n        setIsLoading(false),\r\n      ]);\r\n\r\n      const lectureRows = Object.keys(allLectures).map((lectureKey, index) => {\r\n        return {\r\n          id: index + 1,\r\n          lectureId: lectureKey,\r\n          lectureName: allLectures[lectureKey][\"lecture-name\"],\r\n          faculty: allLectures[lectureKey][\"faculty\"],\r\n        };\r\n      });\r\n\r\n      console.log(lectureRows);\r\n\r\n      setRowData(lectureRows);\r\n    }\r\n\r\n    fetchData();\r\n  }, [isLoading]); // similar to fetching lectures list on componentUpdate()\r\n\r\n  function onGridReady(params) {\r\n    setGridApi(params.api);\r\n    setGridColumnApi(params.columnApi);\r\n  }\r\n  //#endregion\r\n\r\n  //#region Component Method\r\n\r\n  function handleOnAddFaculty(values) {\r\n    // Trả về Promise để Form đợi tới khi người dùng chọn tùy chọn\r\n    return new Promise((resolve, reject) => {\r\n      if (exists(values[\"faculty-name\"])) {\r\n        let facID = getFacID(values[\"faculty-name\"]);\r\n        values[\"faculty-id\"] = facID;\r\n        if (values[\"faculty-id\"] in facultiesObj) {\r\n          confirmAlert({\r\n            title: \"Bạn có muốn thay đổi tên khoa?\",\r\n            message: \"Mã khoa này đã tồn tại\",\r\n            buttons: [\r\n              {\r\n                className: \"confirm__cancel\",\r\n                label: \"Hủy\",\r\n                onClick: () => reject(),\r\n              },\r\n              {\r\n                className: \"new\",\r\n                label: \"Thay Đổi\",\r\n                onClick: () => {\r\n                  setNewFaculty(values);\r\n                  resolve();\r\n                },\r\n              },\r\n            ],\r\n          });\r\n        } else {\r\n          setNewFaculty(values);\r\n          resolve();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  const handleOnAdd = ({\r\n    values,\r\n    shouldRemoveChild = false,\r\n    event = undefined,\r\n  }) => {\r\n    //remove li element on add\r\n    const removeLi = () => {\r\n      const thisLi = event.target.closest(\"li\");\r\n      let nodes = Array.from(thisLi.closest(\"ul\").children); // get array\r\n      let index = nodes.indexOf(thisLi);\r\n      if (index >= 0) {\r\n        const tempArr = [...excelLoadedItems];\r\n        tempArr.splice(index, 1);\r\n        setExcelLoadedItems(tempArr);\r\n      }\r\n    };\r\n\r\n    return new Promise((resolve, reject) => {\r\n      if (!!values[\"lecture-name\"]) {\r\n        if (\r\n          exists(values[\"faculty\"]) &&\r\n          !(getFacID(values[\"faculty\"]) in facultiesObj)\r\n        ) {\r\n          confirmAlert({\r\n            title: \"Khoa này hiện tại chưa có trong cơ sở dữ liệu\",\r\n            message: \"Bạn muốn thêm khoa này vào database không?\",\r\n            buttons: [\r\n              {\r\n                className: \"confirm__cancel\",\r\n                label: \"Hủy\",\r\n                onClick: () => reject(),\r\n              },\r\n              {\r\n                className: \"new\",\r\n                label: \"Thêm\",\r\n                onClick: () => {\r\n                  newLecture(values);\r\n                  handleOnAddFaculty({\r\n                    \"faculty-name\": values[\"faculty\"],\r\n                  });\r\n                  setIsLoading(true);\r\n                  shouldRemoveChild && removeLi();\r\n                  resolve();\r\n                },\r\n              },\r\n            ],\r\n          });\r\n        } else {\r\n          newLecture(values);\r\n          setIsLoading(true);\r\n          shouldRemoveChild && removeLi();\r\n          resolve();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleOnModify = (id, values) => {\r\n    return new Promise((resolve) => {\r\n      if (!!Object.keys(values).length) {\r\n        modifyLecture(id, values);\r\n        setCurrentLectureId(\"\");\r\n        setIsLoading(true);\r\n      }\r\n      resolve(true);\r\n    });\r\n  };\r\n\r\n  const handleOnRemove = (id) => {\r\n    confirmAlert({\r\n      title: `Bạn có chắc muốn xóa ${selectedRows.length} giảng viên này?`,\r\n      message: \"Bạn sẽ không thể truy cập lại thông tin này\",\r\n      buttons: [\r\n        {\r\n          className: \"confirm__cancel\",\r\n          label: \"Hủy\",\r\n        },\r\n        {\r\n          className: \"sign-out\",\r\n          label: \"Xóa\",\r\n          onClick: () => {\r\n            selectedRows.forEach((row) => {\r\n              removeLecture(row?.lectureId);\r\n            });\r\n            setCurrentLectureId(\"\");\r\n            setIsLoading(true);\r\n            setSelectedRows([]);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  async function handleDropped(files) {\r\n    const objHeaders = [\"lecture-name\", \"lecture-email\", \"faculty\"];\r\n    const file = files[0];\r\n    try {\r\n      const data = await readExcel(file, objHeaders);\r\n      if (data.length === 0) {\r\n        setExcelLoadedItems(null);\r\n      } else {\r\n        setExcelLoadedItems(data);\r\n      }\r\n    } catch (err) {\r\n      defaultFailCB(err);\r\n    }\r\n  }\r\n\r\n  const handleDownloadTemplateFile = () =>\r\n    window.open(\r\n      \"https://drive.google.com/file/d/15h5VvMQOtWwKoNRKzAWQaW62vctDx-jd/view?usp=sharing\",\r\n      \"_blank\",\r\n      \"\"\r\n    );\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mng-container\">\r\n        <div className=\"form-list__container\">\r\n          <div className=\"form__container\">\r\n            {\r\n              // render cancel button if excelLoaded has at least 1 row\r\n              !!excelLoadedItems.length && (\r\n                <Button\r\n                  style={{ marginBottom: 10 }}\r\n                  className=\"delete\"\r\n                  // clear items\r\n                  onClick={() => setExcelLoadedItems([])}\r\n                >\r\n                  Hủy\r\n                </Button>\r\n              )\r\n            }\r\n            {\r\n              // render excel loaded list items if it has at least 1 row or render dropzone_container\r\n              !!excelLoadedItems.length ? (\r\n                <ul id=\"excel__loaded-ul lecture-ul\">\r\n                  {excelLoadedItems.map((values, index) => (\r\n                    <LectureItemToAdd\r\n                      index={index}\r\n                      lectureName={values[\"lecture-name\"]}\r\n                      lectrueEmail={values[\"lecture-email\"]}\r\n                      onAdd={(event) =>\r\n                        handleOnAdd({ values, shouldRemoveChild: true, event })\r\n                      }\r\n                    />\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                <FileDropzone\r\n                  {...{\r\n                    excelLoadedItems,\r\n                    handleDropped,\r\n                    handleDownloadTemplateFile,\r\n                  }}\r\n                />\r\n              )\r\n            }\r\n            {\r\n              // remove form if list item has item\r\n              !!excelLoadedItems.length || (\r\n                <FormLectures\r\n                  {...{\r\n                    facultiesObj,\r\n                    lecturesObj,\r\n                    currentLectureId,\r\n                    setCurrentLectureId,\r\n                    handleOnAdd,\r\n                    handleOnModify,\r\n                  }}\r\n                />\r\n              )\r\n            }\r\n            {!!selectedRows.length && (\r\n              <Button\r\n                style={{ marginTop: 10 }}\r\n                className=\"delete\"\r\n                // clear items\r\n                onClick={handleOnRemove}\r\n              >\r\n                Xóa {selectedRows.length} Khoa\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"list__container lecture-list\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"text__search\"\r\n              onChange={({ target }) => gridApi.setQuickFilter(target.value)}\r\n              placeholder=\"Tìm kiếm...\"\r\n            />\r\n            <div style={{ height: \"94%\" }} className=\"ag-theme-alpine-dark\">\r\n              <AgGridReact\r\n                {...{ onGridReady, rowData, gridOptions }}\r\n                style={{ height: \"90%\" }}\r\n                columnDefs={gridOptions[\"columnDefs\"]}\r\n                defaultColDef={{ flex: 1 }}\r\n                enableRangeSelection={true}\r\n                pagination={true}\r\n                paginationPageSize={15}\r\n                rowMultiSelectWithClick={true}\r\n                suppressRowClickSelection={true}\r\n                getContextMenuItems={contextMenuItems}\r\n                overlayNoRowsTemplate={\r\n                  \"Bạn chưa có dữ liệu nào trong cơ sở dữ liệu\"\r\n                }\r\n                onRowClicked={({ data }) =>\r\n                  setCurrentLectureId(data[\"lectureId\"])\r\n                }\r\n                onSelectionChanged={() => {\r\n                  var selectedRows = gridApi.getSelectedRows();\r\n                  setSelectedRows(selectedRows);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isLoading && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageLectures;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { defaultFailCB, selectAllOnFocus } from \"../../../utils\";\r\n\r\n// import components\r\nimport { Button } from \"../../Components\";\r\nimport { Form } from \"semantic-ui-react\";\r\n\r\n// import styles\r\n\r\nconst FormSubjects = ({\r\n\tcurrentSubjectId,\r\n\tsubjectsObj,\r\n\tsetCurrentSubjectId,\r\n\thandleOnAdd,\r\n\thandleOnModify,\r\n}) => {\r\n\tconst initialState = {\r\n\t\t\"subject-name\": \"\",\r\n\t\tcredit: \"\",\r\n\t\tperiods: \"\",\r\n\t};\r\n\r\n\tconst [values, setValues] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentSubjectId === \"\") {\r\n\t\t\tsetValues({ ...initialState });\r\n\t\t} else {\r\n\t\t\tsetValues({ ...subjectsObj[currentSubjectId] });\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentSubjectId, subjectsObj]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tif (currentLectureId) {\r\n\t// \t\tdocument.getElementById(\"lecture__select-faculty\").value =\r\n\t// \t\t\tlecturesObj[currentLectureId][\"faculty\"];\r\n\t// \t}\r\n\t// }, [currentLectureId, lecturesObj, facultiesObj]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tconsole.log(values);\r\n\t// }, [values]);\r\n\r\n\tconst handleInputChange = (e) => {\r\n\t\tvar { name, value, type } = e.target;\r\n\t\tconst typeCheckedValues = {\r\n\t\t\t...values,\r\n\t\t\t[name]: type === \"number\" ? parseInt(value, 10) : value,\r\n\t\t};\r\n\t\tsetValues(typeCheckedValues);\r\n\t};\r\n\r\n\tconst handleButtonAdd = (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\thandleOnAdd({ values });\r\n\t\t} catch (err) {\r\n\t\t\tdefaultFailCB(err);\r\n\t\t}\r\n\t\tsetValues(initialState);\r\n\t};\r\n\r\n\tconst handleButtonModify = (e) => {\r\n\t\te.preventDefault();\r\n\t\thandleOnModify(currentSubjectId, values);\r\n\t\tsetValues(initialState);\r\n\t};\r\n\r\n\tconst cancelModify = () => {\r\n\t\tsetCurrentSubjectId(\"\");\r\n\t\tsetValues(initialState);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form id=\"manage__form\">\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel=\"Tên môn học\"\r\n\t\t\t\t\ttitle=\"Tên môn học\"\r\n\t\t\t\t\tplaceholder=\"Tên môn học\"\r\n\t\t\t\t\tid=\"subject-name\"\r\n\t\t\t\t\tname=\"subject-name\"\r\n\t\t\t\t\tvalue={values[\"subject-name\"]}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\tonFocus={selectAllOnFocus}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel=\"Số tín chỉ\"\r\n\t\t\t\t\ttitle=\"Số tín chỉ\"\r\n\t\t\t\t\tplaceholder=\"Số tín chỉ\"\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"credit\"\r\n\t\t\t\t\tname=\"credit\"\r\n\t\t\t\t\tvalue={values[\"credit\"]}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\tonFocus={selectAllOnFocus}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel=\"Số tiết\"\r\n\t\t\t\t\ttitle=\"Số tiết\"\r\n\t\t\t\t\tplaceholder=\"Số tiết\"\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"periods\"\r\n\t\t\t\t\tname=\"periods\"\r\n\t\t\t\t\tvalue={values[\"periods\"]}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\tonFocus={selectAllOnFocus}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{currentSubjectId ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 0, height: \"100%\" }}\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"new\"\r\n\t\t\t\t\t\t\t\ttitle=\"Chỉnh sửa khoa\"\r\n\t\t\t\t\t\t\t\tonClick={handleButtonModify}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tChỉnh Sửa\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 0, height: \"100%\" }}\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"new\"\r\n\t\t\t\t\t\t\t\ttitle=\"Thêm giảng viên mới\"\r\n\t\t\t\t\t\t\t\tonClick={handleButtonAdd}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{currentSubjectId && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: \"0\", height: \"100%\" }}\r\n\t\t\t\t\t\t\t\tclassName=\"sign-out\"\r\n\t\t\t\t\t\t\t\ttitle=\"Hủy chỉnh sửa\"\r\n\t\t\t\t\t\t\t\tonClick={cancelModify}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormSubjects;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  getAllSubjects,\r\n  modifySubject,\r\n  newSubject,\r\n  removeSubject,\r\n} from \"../../../firebase\";\r\nimport { defaultFailCB, readExcel, exists, validNumber } from \"../../../utils\";\r\n\r\n// import components\r\nimport FormSubjects from \"./FormSubjects\";\r\nimport { Loading, Button, FileDropzone } from \"../../Components\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\n\r\n//import styles\r\nimport \"./Manage.css\";\r\nimport \"ag-grid-enterprise\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine-dark.css\";\r\n\r\nconst ManageSubjects = () => {\r\n  //#region State\r\n\r\n  const [gridApi, setGridApi] = useState(null);\r\n  const [gridColumnApi, setGridColumnApi] = useState(null);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [rowData, setRowData] = useState([]);\r\n\r\n  const [subjectsObj, setSubjectsObj] = useState({});\r\n  const [currentSubjectId, setCurrentSubjectId] = useState(\"\");\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [excelLoadedItems, setExcelLoadedItems] = useState([]);\r\n\r\n  const gridOptions = {\r\n    columnDefs: [\r\n      {\r\n        field: \"id\",\r\n        headerName: \"STT\",\r\n        checkboxSelection: true,\r\n        headerCheckboxSelection: true,\r\n        maxWidth: 120,\r\n        editable: false,\r\n      },\r\n      { field: \"subjectName\", headerName: \"Tên Học Phần\" },\r\n      { field: \"credit\", headerName: \"Số Tín Chỉ\" },\r\n      { field: \"periods\", headerName: \"Số Tiết\" },\r\n    ],\r\n    defaultColDef: {\r\n      flex: 1,\r\n      resizable: true,\r\n    },\r\n    rowSelection: \"multiple\",\r\n  };\r\n\r\n  const contextMenuItems = (params) => [\r\n    \"copy\",\r\n    \"copyWithHeaders\",\r\n    \"separator\",\r\n    \"export\",\r\n  ];\r\n\r\n  //#endregion\r\n\r\n  //#region Components\r\n\r\n  const SubjectItemToAdd = ({ onAdd, index, subjectName, credit, periods }) => {\r\n    return (\r\n      <li key={index.toString()} className=\"excel__list-li_item\">\r\n        <div className=\"vert-align\">\r\n          <p>\r\n            {exists(subjectName) ? (\r\n              subjectName\r\n            ) : (\r\n              <span style={{ color: \"red\" }}>Không có tên môn</span>\r\n            )}\r\n          </p>\r\n          <div className=\"hozi-align\">\r\n            <p>\r\n              {credit && (\r\n                <>\r\n                  <span\r\n                    style={{\r\n                      color: validNumber(Number.parseInt(credit)) || \"red\",\r\n                    }}\r\n                  >\r\n                    {credit}\r\n                  </span>{\" \"}\r\n                  tín\r\n                </>\r\n              )}\r\n            </p>\r\n            <p>\r\n              {periods && (\r\n                <>\r\n                  <span\r\n                    style={{\r\n                      color: validNumber(Number.parseInt(periods)) || \"red\",\r\n                    }}\r\n                  >\r\n                    {periods}\r\n                  </span>{\" \"}\r\n                  tiết\r\n                </>\r\n              )}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <span className=\"btn__trash add\" onClick={onAdd}>\r\n          <i className=\"far fa-plus-square\" />\r\n        </span>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region Hooks\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const allSubject = await getAllSubjects();\r\n\r\n      setSubjectsObj(allSubject);\r\n      setIsLoading(false);\r\n\r\n      const subjectRows = Object.keys(allSubject).map((subjectKey, index) => {\r\n        return {\r\n          id: index + 1,\r\n          subjectId: subjectKey,\r\n          subjectName: allSubject[subjectKey][\"subject-name\"],\r\n          credit: allSubject[subjectKey][\"credit\"],\r\n          periods: allSubject[subjectKey][\"periods\"],\r\n        };\r\n      });\r\n\r\n      setRowData(subjectRows);\r\n    }\r\n\r\n    if (isLoading) {\r\n      fetchData();\r\n    }\r\n  }, [isLoading]);\r\n\r\n  function onGridReady(params) {\r\n    setGridApi(params.api);\r\n    setGridColumnApi(params.columnApi);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Methods\r\n\r\n  const handleOnAdd = ({\r\n    values,\r\n    shouldRemoveChild = false,\r\n    event = undefined,\r\n  }) => {\r\n    //remove li element on add\r\n    const removeLi = () => {\r\n      const thisLi = event.target.closest(\"li\");\r\n      let nodes = Array.from(thisLi.closest(\"ul\").children); // get array\r\n      let index = nodes.indexOf(thisLi);\r\n      if (index >= 0) {\r\n        const tempArr = [...excelLoadedItems];\r\n        tempArr.splice(index, 1);\r\n        setExcelLoadedItems(tempArr);\r\n      }\r\n    };\r\n\r\n    return new Promise((resolve, reject) => {\r\n      if (!exists(values[\"subject-name\"])) {\r\n        defaultFailCB(\"Không có tên môn học\");\r\n      } else if (\r\n        !validNumber(values[\"credit\"]) ||\r\n        !validNumber(values[\"periods\"])\r\n      ) {\r\n        defaultFailCB(\"Dữ liệu không đúng định dạng số\");\r\n      } else {\r\n        newSubject(values);\r\n        setIsLoading(true);\r\n        shouldRemoveChild && removeLi();\r\n        resolve();\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleOnModify = (id, values) => {\r\n    if (!!Object.keys(values).length) {\r\n      modifySubject(id, values);\r\n      setCurrentSubjectId(undefined);\r\n      setIsLoading(true);\r\n    }\r\n  };\r\n\r\n  function handleOnRemove() {\r\n    confirmAlert({\r\n      title: `Bạn có chắc muốn xóa ${selectedRows.length} môn học?`,\r\n      message: \"Bạn sẽ không thể truy cập lại thông tin này\",\r\n      buttons: [\r\n        {\r\n          className: \"confirm__cancel\",\r\n          label: \"Hủy\",\r\n        },\r\n        {\r\n          className: \"sign-out\",\r\n          label: \"Xóa\",\r\n          onClick: () => {\r\n            selectedRows.forEach((row) => {\r\n              removeSubject(row?.subjectId);\r\n            });\r\n            setCurrentSubjectId(\"\");\r\n            setIsLoading(true);\r\n            setSelectedRows([]);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  async function handleDropped(files) {\r\n    const objHeaders = [\"subject-name\", \"credit\", \"periods\"];\r\n    const file = files[0];\r\n    try {\r\n      const data = await readExcel(file, objHeaders);\r\n      if (data.length === 0) {\r\n        setExcelLoadedItems(null);\r\n      } else {\r\n        setExcelLoadedItems(data);\r\n      }\r\n    } catch (err) {\r\n      defaultFailCB(err);\r\n    }\r\n  }\r\n\r\n  const handleDownloadTemplateFile = () =>\r\n    window.open(\r\n      \"https://drive.google.com/file/d/1rTYsYcXKhHf1Cb0jGqLjqiY1edQW-5Z3/view?usp=sharing\",\r\n      \"_blank\",\r\n      \"\"\r\n    );\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mng-container\">\r\n        <div className=\"form-list__container\">\r\n          <div className=\"form__container\">\r\n            {\r\n              // render cancel button if excelLoaded has at least 1 row\r\n              !!excelLoadedItems.length && (\r\n                <Button\r\n                  style={{ marginBottom: 10 }}\r\n                  className=\"delete\"\r\n                  // clear items\r\n                  onClick={() => setExcelLoadedItems([])}\r\n                >\r\n                  Hủy\r\n                </Button>\r\n              )\r\n            }\r\n            {\r\n              // render excel loaded list items if it has at least 1 row or render dropzone_container\r\n              !!excelLoadedItems.length ? (\r\n                <ul id=\"excel__loaded-ul subject-ul\">\r\n                  {excelLoadedItems.map((values, index) => (\r\n                    <SubjectItemToAdd\r\n                      index={index}\r\n                      subjectName={values[\"subject-name\"]}\r\n                      credit={values[\"credit\"]}\r\n                      periods={values[\"periods\"]}\r\n                      onAdd={async (event) => {\r\n                        try {\r\n                          const res = await handleOnAdd({\r\n                            values,\r\n                            shouldRemoveChild: true,\r\n                            event,\r\n                          });\r\n                          console.error(res);\r\n                        } catch (err) {\r\n                          defaultFailCB(err);\r\n                        }\r\n                      }}\r\n                    />\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                <FileDropzone\r\n                  {...{\r\n                    excelLoadedItems,\r\n                    handleDropped,\r\n                    handleDownloadTemplateFile,\r\n                  }}\r\n                />\r\n              )\r\n            }\r\n            {\r\n              // remove form if list item has item\r\n              !!excelLoadedItems.length || (\r\n                <FormSubjects\r\n                  {...{\r\n                    subjectsObj,\r\n                    currentSubjectId,\r\n                    setCurrentSubjectId,\r\n                    handleOnAdd,\r\n                    handleOnModify,\r\n                  }}\r\n                />\r\n              )\r\n            }\r\n            {!!selectedRows.length && (\r\n              <Button\r\n                style={{ marginTop: 10 }}\r\n                className=\"delete\"\r\n                // clear items\r\n                onClick={handleOnRemove}\r\n              >\r\n                Xóa {selectedRows.length} môn học\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <div className=\"list__container ag-theme-alpine-dark\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"text__search\"\r\n              onChange={({ target }) => setSearchString(target.value)}\r\n              name=\"search-string\"\r\n              value={searchString}\r\n              placeholder=\"Tìm kiếm...\"\r\n            />\r\n            <div style={{ height: \"94%\" }}>\r\n              <AgGridReact\r\n                {...{ onGridReady, rowData, gridOptions }}\r\n                style={{ height: \"90%\" }}\r\n                columnDefs={gridOptions[\"columnDefs\"]}\r\n                defaultColDef={{ flex: 1 }}\r\n                enableRangeSelection={true}\r\n                pagination={true}\r\n                paginationPageSize={15}\r\n                rowMultiSelectWithClick={true}\r\n                suppressRowClickSelection={true}\r\n                getContextMenuItems={contextMenuItems}\r\n                overlayNoRowsTemplate={\r\n                  \"Bạn chưa có dữ liệu nào trong cơ sở dữ liệu\"\r\n                }\r\n                onRowClicked={({ data }) =>\r\n                  setCurrentSubjectId(data[\"subjectId\"])\r\n                }\r\n                onSelectionChanged={() => {\r\n                  var selectedRows = gridApi.getSelectedRows();\r\n                  setSelectedRows(selectedRows);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isLoading && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageSubjects;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\n// import components\r\nimport { Loading, LinkButton, Button } from \"../Components\";\r\nimport { removeSemester, getAllSemester } from \"../../firebase\";\r\nimport { Link } from \"@reach/router\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// import styles\r\nimport \"./TimeTables.css\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\n\r\nfunction getTimeString(t) {\r\n  const time = new Date(t);\r\n  const today = new Date();\r\n  let date = \"\";\r\n  if (\r\n    time.getDate() === today.getDate() &&\r\n    time.getMonth() === today.getMonth() &&\r\n    time.getFullYear() === today.getFullYear()\r\n  ) {\r\n    date = \"Hôm nay\";\r\n  } else {\r\n    date = time.toLocaleDateString(\"vi-VN\");\r\n  }\r\n  return `${date}, ${time.getHours()}:${\r\n    (time.getMinutes() < 10 ? \"0\" : \"\") + time.getMinutes()\r\n  }`;\r\n}\r\n\r\nconst TimeTableListItem = (props) => {\r\n  const { id, value, onDelete, onClick } = props;\r\n\r\n  const { userNamed, timeCreated, numberOfWeeks } = value[\"semesterInfo\"];\r\n  let title = `${userNamed}\\nSố tuần học: ${numberOfWeeks}`;\r\n\r\n  const restProps = { title, onClick };\r\n\r\n  return (\r\n    <li className=\"timetable__li\" {...restProps}>\r\n      <div className=\"content__li-container\">\r\n        <Link to={`/timetable/${id}`} className=\"timetable__li-link\">\r\n          <div className=\"li__name\">✌ {userNamed}</div>\r\n          <div className=\"li__time\" style={{ fontSize: \"1.8vmin\" }}>\r\n            <i className=\"far fa-clock\" /> {getTimeString(timeCreated)}\r\n          </div>\r\n        </Link>\r\n      </div>\r\n      <Button title=\"Xóa\" onClick={onDelete} className=\"sign-out btn__li\">\r\n        <i class=\"far fa-trash\" />\r\n      </Button>\r\n    </li>\r\n  );\r\n};\r\n\r\nTimeTableListItem.propTypes = {\r\n  id: PropTypes.string,\r\n  value: PropTypes.shape({\r\n    userNamed: PropTypes.string,\r\n    timeCreated: PropTypes.instanceOf(Date),\r\n    numberOfWeeks: PropTypes.string,\r\n  }),\r\n  onDelete: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nconst TimeTables = (props) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [semesterObject, setSemesterObject] = useState({});\r\n\r\n  useEffect(() => {\r\n    getAllSemester((result) => {\r\n      setSemesterObject(result);\r\n      setIsLoading(false);\r\n    });\r\n  }, [isLoading]); // fetching data from firebase\r\n\r\n  const handleOnDelete = (semID) => {\r\n    confirmAlert({\r\n      title: \"Xóa thời khóa biểu này?\",\r\n      message: \"Bạn sẽ không thể truy cập lại thời khóa biểu này\",\r\n      buttons: [\r\n        {\r\n          className: \"confirm__cancel\",\r\n          label: \"Hủy\",\r\n          // onClick: () => alert(\"Click No\"),\r\n        },\r\n        {\r\n          className: \"sign-out\",\r\n          label: \"Xóa\",\r\n          onClick: () => {\r\n            removeSemester(semID);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <div className=\"choose__container\">\r\n          <div className=\"choose__header\">\r\n            <h1>Các thời khóa biểu mà bạn đã lưu</h1>\r\n            <LinkButton to=\"/new-timetable\" className=\"new choose__new\">\r\n              Tạo mới\r\n            </LinkButton>\r\n          </div>\r\n          <div className=\"choose__main\">\r\n            {!!Object.keys(semesterObject).length ? (\r\n              <ul>\r\n                {Object.keys(semesterObject)\r\n                  .reverse()\r\n                  .map((id, index) => (\r\n                    <TimeTableListItem\r\n                      key={index}\r\n                      id={id}\r\n                      onDelete={() => handleOnDelete(id)}\r\n                      value={semesterObject[id]}\r\n                      onClickLi={() => props.setLeftMenuVisible(false)}\r\n                    />\r\n                  ))}\r\n              </ul>\r\n            ) : (\r\n              <h3 className=\"center-text\">\r\n                Bạn chưa có thời khóa biểu nào, hãy tạo mới nhé!\r\n              </h3>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TimeTables;\r\n","import React from \"react\";\r\n\r\n// import components\r\nimport {LinkButton} from \"../Components\";\r\n\r\nconst NotFoundPage = () => {\r\n\treturn (\r\n\t\t<div style={styles[\"not__found-container\"]}>\r\n\t\t\t<div>\r\n\t\t\t\t<h1 style={styles.h1}>Trang bạn tìm không tồn tại!</h1>\r\n\t\t\t\t<h4 style={styles.h4}>\r\n\t\t\t\t\tXin lỗi, chúng tôi không tìm thấy trang bạn yêu cầu <br /> Nếu bạn\r\n\t\t\t\t\tthấy thiếu gì đó, hãy thử{\" \"}\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://www.facebook.com/sipp.minhh\"\r\n\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\tstyle={styles.anchor}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tliên lạc với chúng tôi\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</h4>\r\n\t\t\t\t<LinkButton className=\"sign-out\" to=\"../\">\r\n\t\t\t\t\tQuay lại trang trước\r\n\t\t\t\t</LinkButton>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NotFoundPage;\r\n\r\nconst styles = {\r\n\t\"not__found-container\": {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\ttextAlign: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\th1: {\r\n\t\tmarginBottom: 30,\r\n\t},\r\n\th4: {\r\n\t\tmarginBottom: 20,\r\n\t\tfontWeight: 400,\r\n\t},\r\n\tanchor: {\r\n\t\tcolor: \"#cccccc\",\r\n\t\tfontSize: \"inherit\",\r\n\t\ttextDecoration: \"underline\",\r\n\t},\r\n};\r\n","import React, { useState, useEffect, createContext, useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  auth,\n  userRef,\n  getAllLectures,\n  getAllClasses,\n} from \"../../../../firebase\";\n\n// create context for using context between screen\nexport const SemContext = createContext({\n  semValues: null,\n});\n\nexport const SemProvider = (props) => {\n  const [values, setValues] = useState({});\n  const { semId, children } = props;\n\n  const [lecturesObj, setLecturesObj] = useState({});\n  const [classesObj, setClassesObj] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  const updateGroupedOptions = () => {\n    const lecturesOpt = [];\n    const classesOpt = [];\n    for (const key in lecturesObj) {\n      if (Object.hasOwnProperty.call(lecturesObj, key)) {\n        const element = lecturesObj[key];\n        // add new data to options\n        lecturesOpt.push({\n          label: element[\"lecture-name\"],\n          value: key,\n        });\n      }\n    }\n    for (const key in classesObj) {\n      if (Object.hasOwnProperty.call(classesObj, key)) {\n        const currClass = classesObj[key];\n        // add new data to options\n        classesOpt.push({\n          label: currClass[\"className\"],\n          value: key,\n        });\n      }\n    }\n\n    return [\n      {\n        label: \"Giảng Viên\",\n        options: lecturesOpt,\n      },\n      {\n        label: \"Lớp Học\",\n        options: classesOpt,\n      },\n    ];\n  };\n\n  const groupedOptions = useMemo(() => {\n    // console.log(lecturesObj);\n    if (Object.keys(lecturesObj).length) {\n      return updateGroupedOptions();\n    }\n\n    // eslint-disable-next-line\n  }, [lecturesObj, classesObj]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const [allLectures, allClasses] = await Promise.all([\n        getAllLectures(),\n        getAllClasses(props.semId),\n      ]);\n\n      setLecturesObj(allLectures);\n      setClassesObj(allClasses);\n    }\n\n    if (isLoading) {\n      fetchData().then(() => setIsLoading(false));\n    }\n\n    // eslint-disable-next-line\n  }, [isLoading]);\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      userRef(user.uid)\n        .child(`semesters/${semId}`)\n        .on(\"value\", (snapshot) => {\n          if (snapshot.val() != null) {\n            setValues({ ...values, ...snapshot.val() });\n          } else {\n            setValues({});\n          }\n        });\n    });\n    // eslint-disable-next-line\n  }, [semId]); // similar to componentDidMount()\n\n  return (\n    <SemContext.Provider\n      value={{ ...values, ...props, groupedOptions, updateGroupedOptions }}\n    >\n      {children}\n    </SemContext.Provider>\n  );\n};\n\nSemProvider.propsType = {\n  children: PropTypes.node,\n  semId: PropTypes.string.isRequired,\n};\n","import React, { useState, useEffect } from \"react\";\r\n\r\n// import components\r\nimport { Button } from \"../../Components\";\r\nimport { Form } from \"semantic-ui-react\";\r\n\r\nconst FormClassManage = ({\r\n  facultiesObj,\r\n  classObj,\r\n  currentClassId,\r\n  setCurrentClassId,\r\n  handleOnAdd,\r\n  handleOnModify,\r\n  setIsLoading,\r\n}) => {\r\n  const initialState = {\r\n    className: \"\",\r\n    classSize: \"\",\r\n    classType: \"defaultValue\",\r\n    faculty: \"defaultValue\",\r\n  };\r\n\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(values);\r\n  // }, [values]);\r\n\r\n  useEffect(() => {\r\n    if (currentClassId === \"\") {\r\n      setValues({ ...initialState });\r\n    } else {\r\n      setValues({ ...classObj[currentClassId] });\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [currentClassId, classObj]);\r\n\r\n  const handleInputChange = (e) => {\r\n    var { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const handleButtonAdd = async (e) => {\r\n    e.preventDefault();\r\n    await handleOnAdd({ values });\r\n    setValues(initialState);\r\n  };\r\n\r\n  const handleButtonModify = (e) => {\r\n    e.preventDefault();\r\n    handleOnModify(currentClassId, values);\r\n    setIsLoading(true);\r\n    setValues(initialState);\r\n  };\r\n\r\n  const cancelModify = () => {\r\n    setCurrentClassId(\"\");\r\n    setValues(initialState);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form id=\"manage__form\" onSubmit={handleOnAdd}>\r\n        <Form.Input\r\n          label=\"Tên Lớp\"\r\n          title=\"Tên Lớp\"\r\n          className=\"left-align\"\r\n          placeholder=\"Tên Lớp\"\r\n          type=\"text\"\r\n          name=\"className\"\r\n          value={values[\"className\"]}\r\n          onChange={handleInputChange}\r\n          required\r\n          autoFocus\r\n        />\r\n        <Form.Input\r\n          label=\"Sĩ Số Lớp\"\r\n          title=\"Sĩ Số Lớp\"\r\n          className=\"left-align\"\r\n          placeholder=\"Sĩ Số Lớp\"\r\n          type=\"number\"\r\n          name=\"classSize\"\r\n          value={values[\"classSize\"]}\r\n          onChange={handleInputChange}\r\n          required\r\n          autoFocus\r\n        />\r\n        <label htmlFor=\"class__select-faculty\">Chọn Hệ</label>\r\n        <select\r\n          title=\"Chọn Hệ\"\r\n          id=\"class__select-faculty\"\r\n          style={{ marginBottom: 10 }}\r\n          name=\"classType\"\r\n          value={values[\"classType\"]}\r\n          onChange={handleInputChange}\r\n        >\r\n          <option disabled key=\"default\" value=\"defaultValue\">\r\n            --- Hệ ---\r\n          </option>\r\n          <option value=\"Cao Đẳng\" key=\"CĐ\">\r\n            Cao Đẳng\r\n          </option>\r\n          <option value=\"Đại Học\" key=\"ĐH\">\r\n            Đại Học\r\n          </option>\r\n        </select>\r\n        <label htmlFor=\"class__select-class_type\">Chọn Khoa</label>\r\n        <select\r\n          title=\"Chọn khoa\"\r\n          id=\"class__select-class_type\"\r\n          style={{ marginBottom: 10 }}\r\n          name=\"faculty\"\r\n          value={values[\"faculty\"]}\r\n          onChange={handleInputChange}\r\n        >\r\n          <option disabled key=\"default\" value=\"defaultValue\">\r\n            {Object.keys(facultiesObj).length\r\n              ? \"--- Khoa ---\"\r\n              : \"Không có khoa nào\"}\r\n          </option>\r\n          {Object.keys(facultiesObj).length &&\r\n            Object.keys(facultiesObj).map((id) => {\r\n              return (\r\n                <option value={facultiesObj[id][\"faculty-name\"]} key={id}>\r\n                  {facultiesObj[id][\"faculty-name\"]}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n          <div>\r\n            {currentClassId ? (\r\n              <Button\r\n                style={{ margin: 0, height: \"100%\" }}\r\n                type=\"submit\"\r\n                className=\"new\"\r\n                title=\"Chỉnh sửa khoa\"\r\n                onClick={handleButtonModify}\r\n              >\r\n                Chỉnh Sửa\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                style={{ margin: \"0\", height: \"100%\" }}\r\n                type=\"submit\"\r\n                className=\"new\"\r\n                title=\"Thêm giảng viên mới\"\r\n                onClick={handleButtonAdd}\r\n              >\r\n                Thêm\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <div>\r\n            {currentClassId && (\r\n              <Button\r\n                style={{ margin: \"0\", height: \"100%\" }}\r\n                className=\"sign-out\"\r\n                title=\"Hủy chỉnh sửa\"\r\n                onClick={cancelModify}\r\n              >\r\n                Hủy\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FormClassManage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\n// import components\r\nimport FormClassManage from \"./FormClassManage\";\r\nimport {\r\n  getAllFaculties,\r\n  getAllClasses,\r\n  newClass,\r\n  removeClass,\r\n  modifyClass,\r\n} from \"../../../firebase\";\r\nimport {\r\n  defaultFailCB,\r\n  readExcel,\r\n  exists,\r\n  getFacID,\r\n  defaultSuccessCB,\r\n} from \"../../../utils\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport { Loading, Button, FileDropzone } from \"../../Components\";\r\n\r\n// import styles\r\nimport \"./Manage.css\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport { SemContext } from \"../timetable/provider/SemProvider\";\r\n\r\nconst ManageClass = (props) => {\r\n  //#region Component State\r\n  const context = useContext(SemContext);\r\n  const { updateGroupedOptions } = context;\r\n\r\n  const [gridApi, setGridApi] = useState(null);\r\n  const [gridColumnApi, setGridColumnApi] = useState(null);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [rowData, setRowData] = useState([]);\r\n\r\n  const [classObj, setClassObj] = useState({});\r\n  const [facultiesObj, setFacultiesObj] = useState({});\r\n  const [currentClassId, setCurrentClassId] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [excelLoadedItems, setExcelLoadedItems] = useState([]);\r\n\r\n  const gridOptions = {\r\n    columnDefs: [\r\n      {\r\n        field: \"id\",\r\n        headerName: \"STT\",\r\n        checkboxSelection: true,\r\n        headerCheckboxSelection: true,\r\n        editable: false,\r\n        maxWidth: 120,\r\n      },\r\n      { field: \"faculty\", headerName: \"Khoa\", rowGroup: true },\r\n      { field: \"className\", headerName: \"Tên Lớp\" },\r\n      { field: \"classType\", headerName: \"Hệ\" },\r\n      { field: \"classSize\", headerName: \"Sĩ Số Lớp\" },\r\n    ],\r\n    defaultColDef: {\r\n      flex: 1,\r\n    },\r\n    rowSelection: \"multiple\",\r\n    groupUseEntireRow: true,\r\n  };\r\n\r\n  const contextMenuItems = (params) => [\r\n    \"copy\",\r\n    \"copyWithHeaders\",\r\n    \"separator\",\r\n    \"export\",\r\n  ];\r\n\r\n  //#endregion\r\n\r\n  //#region Components\r\n\r\n  const LectureItemToAdd = ({ onAdd, index, className, faculty }) => {\r\n    return (\r\n      <li\r\n        key={index}\r\n        className=\"excel__list-li_item\"\r\n        style={{ gridTemplateColumns: \"4fr 3fr 1fr\" }}\r\n      >\r\n        <div>\r\n          <p>{className}</p>\r\n        </div>\r\n        <div>\r\n          <p>{getFacID(faculty)}</p>\r\n        </div>\r\n        <span className=\"btn__trash add\" onClick={onAdd}>\r\n          <i className=\"far fa-plus-square\" />\r\n        </span>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region Hooks\r\n\r\n  // useEffect(() => {\r\n  //   console.log(rowData);\r\n  // }, [rowData]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      var [allClasses, allFaculties] = await Promise.all([\r\n        getAllClasses(props.semId),\r\n        getAllFaculties(),\r\n      ]);\r\n\r\n      const classRow = Object.keys(allClasses).map((classKey, index) => {\r\n        return {\r\n          id: index + 1,\r\n          classId: classKey,\r\n          className: allClasses[classKey][\"className\"],\r\n          classSize: allClasses[classKey][\"classSize\"],\r\n          classType: allClasses[classKey][\"classType\"],\r\n          faculty: allClasses[classKey][\"faculty\"],\r\n        };\r\n      });\r\n\r\n      setRowData(classRow);\r\n      setClassObj(allClasses);\r\n      setFacultiesObj(allFaculties);\r\n    }\r\n    if (isLoading) {\r\n      fetchData().then(() => setIsLoading(false));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [isLoading]);\r\n\r\n  function onGridReady(params) {\r\n    setGridApi(params.api);\r\n    setGridColumnApi(params.columnApi);\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   console.log(classObj);\r\n  // }, [classObj]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log({ ...props, classObj });\r\n  // }, [props, classObj]);\r\n\r\n  //#endregion\r\n\r\n  //#region Component Method\r\n\r\n  function handleOnAdd({\r\n    values,\r\n    shouldRemoveChild = false,\r\n    event = undefined,\r\n  }) {\r\n    // remove li element on add\r\n    const removeLi = () => {\r\n      const thisLi = event.target.closest(\"li\");\r\n      let nodes = Array.from(thisLi.closest(\"ul\").children); // get array\r\n      let index = nodes.indexOf(thisLi);\r\n      if (index >= 0) {\r\n        const tempArr = [...excelLoadedItems];\r\n        tempArr.splice(index, 1);\r\n        setExcelLoadedItems(tempArr);\r\n      }\r\n    };\r\n\r\n    return new Promise((resolve, reject) => {\r\n      if (!!values[\"className\"]) {\r\n        if (\r\n          exists(values[\"className\"]) &&\r\n          exists(classObj[values[\"faculty\"]]) &&\r\n          values[\"className\"] in classObj[values[\"faculty\"]]\r\n        ) {\r\n          confirmAlert({\r\n            title: \"Lớp này đã tồn tại trong cơ sở dữ liệu\",\r\n            message: \"Bạn muốn thay đổi thông tin của lớp này?\",\r\n            buttons: [\r\n              {\r\n                className: \"confirm__cancel\",\r\n                label: \"Hủy\",\r\n                onClick: () => reject(),\r\n              },\r\n              {\r\n                className: \"new\",\r\n                label: \"Thêm\",\r\n                onClick: () => {\r\n                  newClass(props.semId, values);\r\n                  setIsLoading(true);\r\n                  shouldRemoveChild && removeLi();\r\n                  resolve();\r\n                },\r\n              },\r\n            ],\r\n          });\r\n        } else {\r\n          newClass(props.semId, values);\r\n          setIsLoading(true);\r\n          shouldRemoveChild && removeLi();\r\n          resolve();\r\n        }\r\n        updateGroupedOptions();\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleOnModify(classID, values) {\r\n    modifyClass(props.semId, classID, values)\r\n      .then(() => defaultSuccessCB())\r\n      .catch((rej) => defaultFailCB(rej));\r\n  }\r\n\r\n  const handleOnRemove = () => {\r\n    confirmAlert({\r\n      title: `Bạn có chắc muốn xóa ${selectedRows.length} lớp này?`,\r\n      message: \"Bạn sẽ không thể truy cập lại thông tin này\",\r\n      buttons: [\r\n        {\r\n          className: \"confirm__cancel\",\r\n          label: \"Hủy\",\r\n        },\r\n        {\r\n          className: \"sign-out\",\r\n          label: \"Xóa\",\r\n          onClick: () => {\r\n            selectedRows.forEach((row) => {\r\n              removeClass(props.semId, row?.classId);\r\n            });\r\n            setSelectedRows([]);\r\n            setIsLoading(true);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  async function handleDropped(files) {\r\n    const objHeaders = [\"faculty\", \"className\", \"classType\", \"classSize\"];\r\n    const file = files[0];\r\n    try {\r\n      const data = await readExcel(file, objHeaders);\r\n      if (data.length === 0) {\r\n        setExcelLoadedItems(null);\r\n      } else {\r\n        setExcelLoadedItems(data);\r\n        console.log(data);\r\n      }\r\n    } catch (err) {\r\n      defaultFailCB(err);\r\n    }\r\n  }\r\n\r\n  const handleDownloadTemplateFile = () =>\r\n    window.open(\r\n      \"https://drive.google.com/file/d/19AczyMhfMR7AL0oAup2HYKkgGG-vUB_G/view?usp=sharing\",\r\n      \"_blank\",\r\n      \"\"\r\n    );\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <>\r\n      <div className=\"form-list__container\">\r\n        <div style={{ flex: \"1\" }}>\r\n          {\r\n            // render cancel button if excelLoaded has at least 1 row\r\n            !!excelLoadedItems.length && (\r\n              <Button\r\n                style={{ marginBottom: 10 }}\r\n                className=\"delete\"\r\n                // clear items\r\n                onClick={() => setExcelLoadedItems([])}\r\n              >\r\n                Hủy\r\n              </Button>\r\n            )\r\n          }\r\n          {\r\n            // render excel loaded list items if it has at least 1 row or render dropzone_container\r\n            !!excelLoadedItems.length ? (\r\n              <ul id=\"excel__loaded-ul\">\r\n                {excelLoadedItems.map((values, index) => (\r\n                  <LectureItemToAdd\r\n                    index={index}\r\n                    className={values[\"className\"]}\r\n                    faculty={values[\"faculty\"]}\r\n                    onAdd={(event) =>\r\n                      handleOnAdd({ values, shouldRemoveChild: true, event })\r\n                    }\r\n                  />\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <FileDropzone\r\n                {...{\r\n                  excelLoadedItems,\r\n                  handleDropped,\r\n                  handleDownloadTemplateFile,\r\n                }}\r\n              />\r\n            )\r\n          }\r\n          {\r\n            // remove form if list item has item\r\n            !!excelLoadedItems.length || (\r\n              <FormClassManage\r\n                {...{\r\n                  facultiesObj,\r\n                  classObj,\r\n                  currentClassId,\r\n                  setCurrentClassId,\r\n                  handleOnAdd,\r\n                  handleOnModify,\r\n                  setIsLoading,\r\n                }}\r\n              />\r\n            )\r\n          }\r\n          {!!selectedRows.length && (\r\n            <Button\r\n              style={{ marginTop: 10 }}\r\n              className=\"delete\"\r\n              // clear items\r\n              onClick={handleOnRemove}\r\n            >\r\n              Xóa {selectedRows.length} Khoa\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <div style={{ marginLeft: 30, flex: \"3\" }}>\r\n          <input\r\n            type=\"text\"\r\n            className=\"text__search\"\r\n            onChange={({ target }) => gridApi.setQuickFilter(target.value)}\r\n            placeholder=\"Tìm kiếm...\"\r\n          />\r\n          <div className=\"ag-theme-alpine-dark\" style={{ height: \"94%\" }}>\r\n            <AgGridReact\r\n              {...{ onGridReady, rowData, gridOptions }}\r\n              columnDefs={gridOptions[\"columnDefs\"]}\r\n              defaultColDef={{ flex: 1 }}\r\n              enableRangeSelection={true}\r\n              pagination={true}\r\n              paginationPageSize={15}\r\n              rowMultiSelectWithClick={true}\r\n              suppressRowClickSelection={true}\r\n              getContextMenuItems={contextMenuItems}\r\n              overlayNoRowsTemplate={\r\n                \"Bạn chưa có dữ liệu nào trong cơ sở dữ liệu\"\r\n              }\r\n              onRowClicked={({ data }) => {\r\n                setCurrentClassId(data?.classId);\r\n              }}\r\n              onSelectionChanged={() => {\r\n                var selectedRows = gridApi.getSelectedRows();\r\n                setSelectedRows(selectedRows);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isLoading && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageClass;\r\n","export default class NumbericEditor {\r\n  // gets called once before the renderer is used\r\n  init(params) {\r\n    // create the cell\r\n    this.eInput = document.createElement(\"input\");\r\n\r\n    if (this.isCharNumeric(params.charPress)) {\r\n      this.eInput.value = params.charPress;\r\n    } else {\r\n      if (params.value !== undefined && params.value !== null) {\r\n        this.eInput.value = params.value;\r\n      }\r\n    }\r\n\r\n    this.eInput.addEventListener(\"keypress\", (event) => {\r\n      if (!this.isKeyPressedNumeric(event)) {\r\n        this.eInput.focus();\r\n        if (event.preventDefault) event.preventDefault();\r\n      } else if (this.isKeyPressedNavigation(event)) {\r\n        event.stopPropagation();\r\n      }\r\n    });\r\n\r\n    // only start edit if key pressed is a number, not a letter\r\n    const charPressIsNotANumber =\r\n      params.charPress && \"1234567890\".indexOf(params.charPress) < 0;\r\n    this.cancelBeforeStart = charPressIsNotANumber;\r\n  }\r\n\r\n  isKeyPressedNavigation(event) {\r\n    return event.keyCode === 39 || event.keyCode === 37;\r\n  }\r\n\r\n  // gets called once when grid ready to insert the element\r\n  getGui() {\r\n    return this.eInput;\r\n  }\r\n\r\n  // focus and select can be done after the gui is attached\r\n  afterGuiAttached() {\r\n    this.eInput.focus();\r\n  }\r\n\r\n  // returns the new value after editing\r\n  isCancelBeforeStart() {\r\n    return this.cancelBeforeStart;\r\n  }\r\n\r\n  // example - will reject the number if it contains the value 007\r\n  // - not very practical, but demonstrates the method.\r\n  isCancelAfterEnd() {\r\n    const value = this.getValue();\r\n    return value.indexOf(\"007\") >= 0;\r\n  }\r\n\r\n  // returns the new value after editing\r\n  getValue() {\r\n    return this.eInput.value;\r\n  }\r\n\r\n  // any cleanup we need to be done here\r\n  destroy() {\r\n    // but this example is simple, no cleanup, we could  even leave this method out as it's optional\r\n  }\r\n\r\n  // if true, then this editor will appear in a popup\r\n  isPopup() {\r\n    // and we could leave this method out also, false is the default\r\n    return false;\r\n  }\r\n\r\n  getCharCodeFromEvent(event) {\r\n    event = event || window.event;\r\n    return typeof event.which == \"undefined\" ? event.keyCode : event.which;\r\n  }\r\n\r\n  isCharNumeric(charStr) {\r\n    return !!/\\d/.test(charStr);\r\n  }\r\n\r\n  isKeyPressedNumeric(event) {\r\n    const charCode = this.getCharCodeFromEvent(event);\r\n    const charStr = String.fromCharCode(charCode);\r\n    return this.isCharNumeric(charStr);\r\n  }\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\n// import components\r\nimport {\r\n  getAllLectures,\r\n  getAllSubjects,\r\n  getAllClasses,\r\n  setNewAssignment,\r\n  getAssignmentsOfLecture,\r\n} from \"../../../firebase\";\r\nimport { exists, titleCase } from \"../../../utils\";\r\n// import { confirmAlert } from \"react-confirm-alert\";\r\nimport { Loading } from \"../../Components\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport NumbericEditor from \"./NumbericEditor\";\r\nimport Select from \"react-select\";\r\n\r\n// import styles\r\nimport \"ag-grid-enterprise\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine-dark.css\";\r\n\r\nimport \"./Manage.css\";\r\nimport { useMemo } from \"react\";\r\nimport { SemContext } from \"../timetable/provider/SemProvider\";\r\n\r\nconst ManageAssignments = (props) => {\r\n  //#region Component State\r\n  const [gridApi, setGridApi] = useState(null);\r\n  // const [gridColumnApi, setGridColumnApi] = useState(null);\r\n\r\n  const context = useContext(SemContext);\r\n  const { semesterInfo } = context;\r\n\r\n  const [lecturesObj, setLecturesObj] = useState({});\r\n  const [classObj, setClassObj] = useState({});\r\n  const [subjectObj, setSubjectObj] = useState({});\r\n  // const [facultyObj, setFacultiesObj] = useState({});\r\n  const [currentLectureID, setCurrentLectureID] = useState();\r\n  const [lectureListFilter, setLectureListFilter] = useState(\"\");\r\n  const [subjectGridFilter, setSubjectGridFilter] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const columnDefs = [\r\n    {\r\n      field: \"id\",\r\n      headerName: \"STT\",\r\n      type: \"number\",\r\n      checkboxSelection: true,\r\n      headerCheckboxSelection: true,\r\n      editable: false,\r\n      maxWidth: 120,\r\n    },\r\n    {\r\n      field: \"subjectName\",\r\n      headerName: \"Tên môn học\",\r\n      type: \"string\",\r\n      editable: false,\r\n    },\r\n    {\r\n      field: \"credit\",\r\n      headerName: \"Số Tín Chỉ\",\r\n      type: \"number\",\r\n      editable: false,\r\n    },\r\n    {\r\n      field: \"periods\",\r\n      headerName: \"Số Tiết\",\r\n      type: \"number\",\r\n      editable: false,\r\n    },\r\n    {\r\n      field: \"classID\",\r\n      headerName: \"Lớp Giảng Dạy\",\r\n      editable: !!Object.keys(classObj).length,\r\n      cellEditor: \"agRichSelectCellEditor\",\r\n      // cellRenderer: \"classesSelectComponent\",\r\n      // cellEditor: \"classesSelectComponent\",\r\n      cellEditorParams: {\r\n        values: Object.keys(classObj),\r\n      },\r\n      valueFormatter: (params) => {\r\n        // lấy tên lớp cho vào select\r\n        if (Object.keys(classObj).length > 0) {\r\n          const classID = params?.value;\r\n\r\n          // console.log(classID, classObj, classObj[classID]);\r\n\r\n          return classID === \"Chọn Lớp\" || classID === \"\"\r\n            ? \"Chọn Lớp\"\r\n            : classObj[classID]?.className;\r\n        } else {\r\n          return \"Chưa có lớp học\";\r\n        }\r\n      },\r\n    },\r\n    {\r\n      field: \"numberOfTests\",\r\n      headerName: \"Số Bài Kiểm Tra\",\r\n      type: \"number\",\r\n      editable: true,\r\n      // chỉ chấp nhận số\r\n      valueSetter: numberValueSetter,\r\n    },\r\n  ];\r\n\r\n  const contextMenuItems = (params) => [\r\n    \"copy\",\r\n    \"copyWithHeaders\",\r\n    \"separator\",\r\n    \"export\",\r\n  ];\r\n\r\n  //#endregion\r\n\r\n  //#region Hooks\r\n\r\n  useEffect(() => {\r\n    console.log(\"classObj\", \"=>\", classObj);\r\n  }, [classObj]);\r\n\r\n  // Lấy dữ liệu từ firebase (async)\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      var [\r\n        allLectures,\r\n        // allFaculties,\r\n        allSubjects,\r\n        allClasses,\r\n      ] = await Promise.all([\r\n        getAllLectures(),\r\n        // getAllFaculties(),\r\n        getAllSubjects(),\r\n        getAllClasses(props.semId),\r\n      ]);\r\n\r\n      if (exists(allSubjects)) {\r\n        setSubjectObj(allSubjects);\r\n        // console.log(subjectRows);\r\n      }\r\n\r\n      if (exists(allLectures)) {\r\n        setLecturesObj(allLectures);\r\n        // console.log(allLectures);\r\n      }\r\n      if (exists(allClasses)) {\r\n        setClassObj(allClasses);\r\n        // console.log(allClasses);\r\n      }\r\n    }\r\n\r\n    if (isLoading === true) {\r\n      fetchData().then(() => setIsLoading(false));\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [isLoading]); // similar to fetching lectures list on componentUpdate()\r\n\r\n  const rowData = useMemo(() => {\r\n    return Object.keys(subjectObj).map((subjectKey, index) => {\r\n      return {\r\n        id: index + 1,\r\n        subjectId: subjectKey,\r\n        subjectName: titleCase(subjectObj[subjectKey][\"subject-name\"]),\r\n        credit: subjectObj[subjectKey][\"credit\"],\r\n        periods: subjectObj[subjectKey][\"periods\"],\r\n        classID: \"\",\r\n        numberOfTests: 0,\r\n      };\r\n    });\r\n  }, [subjectObj]);\r\n\r\n  useEffect(() => {\r\n    const li = document.getElementsByClassName(\"list__container-li_item\");\r\n    for (let i = 0; i < li.length; i++) {\r\n      const items = li[i].querySelectorAll(\".li__item-search\");\r\n      let isInclude = [];\r\n      items.forEach((item) => {\r\n        let txtValue = item.textContent || item.innerHTML;\r\n        isInclude.push(\r\n          txtValue.toLowerCase().includes(lectureListFilter.toLowerCase())\r\n            ? true\r\n            : false\r\n        );\r\n      });\r\n      if (isInclude.some((item) => item === true)) {\r\n        li[i].style.display = \"\";\r\n      } else {\r\n        li[i].style.display = \"none\";\r\n      }\r\n    }\r\n  }, [lectureListFilter]); // search for text in list when searchString change\r\n\r\n  useEffect(() => {\r\n    if (currentLectureID && gridApi) {\r\n      getAssignmentsOfLecture(props.semId, currentLectureID).then((result) => {\r\n        if (result.length > 0) {\r\n          let allAssignmentsOfLecture = {};\r\n          console.log(result);\r\n\r\n          result.forEach((value) => {\r\n            allAssignmentsOfLecture = {\r\n              ...allAssignmentsOfLecture,\r\n              [value[\"subjectId\"]]: value,\r\n            };\r\n          });\r\n\r\n          console.log(allAssignmentsOfLecture);\r\n\r\n          gridApi.forEachNode((rowNode) => {\r\n            if (rowNode?.data?.subjectId in allAssignmentsOfLecture) {\r\n              rowNode.setData(allAssignmentsOfLecture[rowNode.data.subjectId]);\r\n              rowNode.setSelected(true, false);\r\n            } else {\r\n              rowNode.setData({\r\n                ...rowNode.data,\r\n                classID: \"Chọn Lớp\",\r\n                numberOfTests: \"0\",\r\n              });\r\n              rowNode.setSelected(false, false);\r\n            }\r\n          });\r\n        } else {\r\n          gridApi.forEachNode((rowNode) => {\r\n            rowNode.setData({\r\n              ...rowNode.data,\r\n              classID: \"Chọn Lớp\",\r\n              numberOfTests: \"0\",\r\n            });\r\n          });\r\n          gridApi.deselectAll();\r\n        }\r\n      });\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [currentLectureID, gridApi]);\r\n\r\n  // hàm callback khi bảng sẵn sàng nhận dữ liệu\r\n  function onGridReady(params) {\r\n    setGridApi(params.api);\r\n    // setGridColumnApi(params.columnApi);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Component Method\r\n\r\n  function numberValueSetter(params) {\r\n    if (isNaN(parseInt(params.newValue)) || !isFinite(params.newValue)) {\r\n      return false; // don't set invalid numbers!\r\n    }\r\n\r\n    params.data.numberOfTests = params.newValue;\r\n\r\n    return true;\r\n  }\r\n\r\n  function handleAddToDB() {\r\n    var selectedRows = gridApi.getSelectedRows();\r\n    setNewAssignment(\r\n      props.semId,\r\n      currentLectureID,\r\n      selectedRows,\r\n      semesterInfo?.numberOfWeeks\r\n    );\r\n  }\r\n\r\n  //#endregion\r\n\r\n  return isLoading ? (\r\n    <Loading />\r\n  ) : (\r\n    <>\r\n      <div className=\"form-list__container\">\r\n        <div style={{ flex: \"1\" }}>\r\n          <div className=\"list__container-search\" style={{ marginBottom: 10 }}>\r\n            <input\r\n              style={{ marginBottom: 10 }}\r\n              className=\"search-input-assignments\"\r\n              placeholder=\"Lọc Giảng Viên...\"\r\n              value={lectureListFilter}\r\n              onChange={(e) => setLectureListFilter(e.target.value)}\r\n            />\r\n          </div>\r\n          <ul>\r\n            {Object.keys(lecturesObj).map((key) => {\r\n              return (\r\n                <>\r\n                  <li\r\n                    className=\"list__container-li_item items-body-content\"\r\n                    onClick={() => setCurrentLectureID(key)}\r\n                  >\r\n                    <span className=\"li__item-search\">\r\n                      {lecturesObj[key][\"lecture-name\"]}\r\n                    </span>\r\n                    <i className=\"fa fa-angle-right\" />\r\n                  </li>\r\n                </>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n        <div style={{ marginLeft: 30, flex: \"3\" }}>\r\n          <input\r\n            style={{ marginBottom: \"10 !important\" }}\r\n            className=\"search-input-assignments\"\r\n            placeholder=\"Tìm Môn Học...\"\r\n            value={subjectGridFilter}\r\n            onChange={(e) => {\r\n              setSubjectGridFilter(e.target.value);\r\n              gridApi.setQuickFilter(e.target.value);\r\n            }}\r\n          />\r\n\r\n          <div\r\n            className=\"ag-theme-alpine-dark\"\r\n            style={{ height: \"calc(100% - 47px)\" }}\r\n          >\r\n            {(!rowData.length && !exists(classObj)) || (\r\n              <AgGridReact\r\n                {...{ onGridReady, rowData, columnDefs }}\r\n                defaultColDef={{\r\n                  flex: 1,\r\n                  minWidth: 130,\r\n                  editable: true,\r\n                  resizable: true,\r\n                }}\r\n                frameworkComponents={{\r\n                  classesSelectComponent: Select\r\n                }}\r\n                components={{\r\n                  numbericCellEditor: NumbericEditor,\r\n                }}\r\n                enableRangeSelection={true}\r\n                rowSelection=\"multiple\"\r\n                suppressRowClickSelection={true}\r\n                suppressDragLeaveHidesColumns={true}\r\n                getContextMenuItems={contextMenuItems}\r\n                overlayNoRowsTemplate={\r\n                  \"Bạn chưa có dữ liệu nào trong cơ sở dữ liệu\"\r\n                }\r\n                onSelectionChanged={handleAddToDB}\r\n                onCellEditingStopped={handleAddToDB}\r\n              ></AgGridReact>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageAssignments;\r\n","import * as React from \"react\";\r\nimport {\r\n  Plugin,\r\n  Template,\r\n  TemplateConnector,\r\n  TemplatePlaceholder,\r\n} from \"@devexpress/dx-react-core\";\r\n\r\nconst pluginDependencies = [\r\n  // { name: \"DayView\", optional: true },\r\n  // { name: \"WeekView\", optional: true },\r\n  // { name: \"MonthView\", optional: true },\r\n  // { name: \"AllDayPanel\", optional: true }\r\n];\r\n\r\nexport const TaskLimiter = () => {\r\n  return (\r\n    <Plugin name=\"TaskLimiter\" pluginDependencies={pluginDependencies}>\r\n      <Template name=\"cell\">\r\n        {(params) => {\r\n          return (\r\n            <TemplateConnector>\r\n              {({ timeTableAppointments }) => {\r\n                const {\r\n                  startDate,\r\n                  endDate,\r\n                  onDoubleClick,\r\n                  groupingInfo, // Should be taken into account if grouping is used\r\n                } = params;\r\n                let handleDoubleClick = onDoubleClick\r\n                  ? () => {\r\n                      const isSpaceAvailable = timeTableAppointments.reduce(\r\n                        (isAvailable, groupedAppointments) => {\r\n                          return groupedAppointments.reduce(\r\n                            (acc, appointment) => {\r\n                              const { start, end } = appointment;\r\n                              if (\r\n                                start.isBefore(endDate) &&\r\n                                end.isAfter(startDate)\r\n                              ) {\r\n                                return false;\r\n                              }\r\n                              return acc;\r\n                            },\r\n                            isAvailable\r\n                          );\r\n                        },\r\n                        true\r\n                      );\r\n                      if (!isSpaceAvailable) {\r\n                        alert(\"Impossible to create another appointment here\");\r\n                      }\r\n                      isSpaceAvailable && onDoubleClick();\r\n                    }\r\n                  : undefined;\r\n                // console.log(params);\r\n                return (\r\n                  <TemplatePlaceholder\r\n                    params={{\r\n                      ...params,\r\n                      onDoubleClick: handleDoubleClick,\r\n                    }}\r\n                  />\r\n                );\r\n              }}\r\n            </TemplateConnector>\r\n          );\r\n        }}\r\n      </Template>\r\n    </Plugin>\r\n  );\r\n};\r\n","import React, { useState, useContext, useEffect, useCallback } from 'react';\r\n// import components\r\nimport NotFound from '../NotFound';\r\nimport { Router, Link } from '@reach/router';\r\nimport Select from 'react-select';\r\nimport { SemProvider, SemContext } from './provider/SemProvider';\r\nimport * as ExcelJS from 'exceljs';\r\nimport { saveAs } from 'file-saver';\r\n\r\n// import styles\r\nimport './styles.css';\r\nimport {\r\n  defaultSuccessCB,\r\n  exists,\r\n  addScheduleSheet,\r\n  getEndTime,\r\n  getEndTimeSlot,\r\n  getStartTime,\r\n  getStartTimeSlot,\r\n  isValidTimeSlot,\r\n  exDateHolidaysString,\r\n} from '../../../utils';\r\nimport { Button, LinkButton, Loading } from '../../Components';\r\nimport ManageClass from '../management/ManageClass';\r\nimport ManageAssignments from '../management/ManageAssigments';\r\nimport {\r\n  getAllClasses,\r\n  getAllLectures,\r\n  getAssignmentsOfClass,\r\n  getAssignmentsOfLecture,\r\n  getClass,\r\n  getClassScheduleArray,\r\n  getLecture,\r\n  getLectureScheduleArray,\r\n  setScheduleArray,\r\n} from '../../../firebase';\r\nimport { Popup } from 'semantic-ui-react';\r\nimport moment from 'moment';\r\nimport 'moment/locale/vi';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {\r\n  ViewState,\r\n  EditingState,\r\n  IntegratedEditing,\r\n} from '@devexpress/dx-react-scheduler';\r\nimport {\r\n  Scheduler,\r\n  WeekView,\r\n  Appointments,\r\n  AppointmentForm,\r\n  AppointmentTooltip,\r\n  DragDropProvider,\r\n  Toolbar,\r\n  DateNavigator,\r\n  TodayButton,\r\n  EditRecurrenceMenu,\r\n} from '@devexpress/dx-react-scheduler-material-ui';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { TaskLimiter } from './AppointmentLimiter';\r\nimport { Backdrop, Fade, Grid, Menu, MenuItem } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst style = ({ palette }) => ({\r\n  grid: {\r\n    paddingBottom: 12,\r\n  },\r\n  textCenter: {\r\n    textAlign: 'center',\r\n  },\r\n  header: {\r\n    height: '260px',\r\n    backgroundSize: 'cover',\r\n  },\r\n});\r\n\r\nconst TimeTableScheduler = props => {\r\n  moment.locale('vi');\r\n  const context = useContext(SemContext);\r\n  const { groupedOptions, semesterInfo } = context;\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [currentTimeTable, setCurrentTimeTable] = useState({});\r\n  const [currentTimetableInfo, setCurrentTimetableInfo] = useState(null);\r\n  const [assignmentsArr, setAssignmentsArr] = useState([]);\r\n  const [currentDateViewState, setCurrentDateViewState] = useState(null);\r\n  const [classObj, setClassObj] = useState({});\r\n  const [lectureObj, setLectureObj] = useState({});\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const getTimetableInfo = useCallback(async function (timetableID) {\r\n    const [allClasses, allLectures] = await Promise.all([\r\n      getAllClasses(props.semId),\r\n      getAllLectures(),\r\n    ]);\r\n\r\n    if (Object.keys(allClasses).includes(timetableID)) {\r\n      return await getClass(props.semId, timetableID);\r\n    } else if (Object.keys(allLectures).includes(timetableID)) {\r\n      return await getLecture(timetableID);\r\n    } else return {};\r\n\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getAssignments = useCallback(async function (timetableID) {\r\n    const [allClasses, allLectures] = await Promise.all([\r\n      getAllClasses(props.semId),\r\n      getAllLectures(),\r\n    ]);\r\n\r\n    if (Object.keys(allClasses).includes(timetableID)) {\r\n      // get assignments of class\r\n      return await getAssignmentsOfClass(props.semId, timetableID);\r\n    } else if (Object.keys(allLectures).includes(timetableID)) {\r\n      // get assignments of lecture\r\n      return await getAssignmentsOfLecture(props.semId, timetableID);\r\n    } else return [];\r\n\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getSchedule = useCallback(\r\n    async function (timetableID) {\r\n      const [allClasses, allLectures] = await Promise.all([\r\n        getAllClasses(props.semId),\r\n        getAllLectures(),\r\n      ]);\r\n\r\n      if (Object.keys(allClasses).includes(timetableID)) {\r\n        // get assignments of class\r\n        return await getClassScheduleArray(props.semId, timetableID);\r\n      } else if (Object.keys(allLectures).includes(timetableID)) {\r\n        // get assignments of lecture\r\n        // return await getAssignmentsOfLecture(props.semId, timetableID);\r\n        return await getLectureScheduleArray(props.semId, timetableID);\r\n      } else return [];\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [currentTimeTable?.value],\r\n  );\r\n\r\n  useEffect(() => {\r\n    const timetableID = currentTimeTable?.value;\r\n\r\n    if (exists(currentTimeTable?.value) || isLoading === true) {\r\n      getAssignments(timetableID).then(res => {\r\n        setAssignmentsArr(res);\r\n      });\r\n      getTimetableInfo(timetableID).then(res => {\r\n        setCurrentTimetableInfo(res);\r\n      });\r\n      getSchedule(timetableID).then(res => {\r\n        setData(res);\r\n      });\r\n      getAllClasses(props.semId).then(res => setClassObj(res));\r\n      getAllLectures().then(res => setLectureObj(res));\r\n    } else {\r\n      setAssignmentsArr([]);\r\n      setCurrentTimetableInfo({});\r\n      setData([]);\r\n    }\r\n    setIsLoading(false);\r\n\r\n    // eslint-disable-next-line\r\n  }, [currentTimeTable?.value, isLoading]); // get assignments list of class or lecture\r\n\r\n  useEffect(() => {\r\n    console.log(currentTimeTable);\r\n\r\n    // eslint-disable-next-line\r\n  }, [currentTimeTable?.value]);\r\n\r\n  useEffect(() => {\r\n    console.log('semInfo', '=>', semesterInfo);\r\n  }, [semesterInfo]);\r\n\r\n  useEffect(() => {\r\n    console.log('assignment', ' => ', assignmentsArr);\r\n  }, [assignmentsArr]);\r\n\r\n  useEffect(() => {\r\n    console.log('data', data);\r\n\r\n    console.log(exDateHolidaysString());\r\n  }, [data]);\r\n\r\n  const onCommitChanges = useCallback(\r\n    ({ added, changed, deleted }) => {\r\n      if (added) {\r\n        const startingAddedId =\r\n          data.length > 0 ? data[data.length - 1].id + 1 : 0;\r\n        added = {\r\n          ...added,\r\n          startDate: added?.startDate.toString(),\r\n          endDate: added?.endDate.toString(),\r\n        };\r\n        const result = [...data, { id: startingAddedId, ...added }];\r\n        setData(result);\r\n        setScheduleArray(props.semId, currentTimeTable?.value, result);\r\n      }\r\n      if (changed) {\r\n        const result = data.map(appointment => {\r\n          // đổi startDate với endDate về dạng string để lưu vào firebase\r\n          if (exists(changed[appointment.id])) {\r\n            console.log(changed);\r\n            if (\r\n              'startDate' in changed[appointment.id] ||\r\n              'endDate' in changed[appointment.id]\r\n            ) {\r\n              changed[appointment.id]['startDate'] = changed[appointment.id][\r\n                'startDate'\r\n              ].toString();\r\n              changed[appointment.id]['endDate'] = changed[appointment.id][\r\n                'endDate'\r\n              ].toString();\r\n              const assignmentData = data[appointment.id]?.data;\r\n              const numberOfClassPerWeek =\r\n                getEndTimeSlot(changed[appointment.id]['endDate']) -\r\n                getStartTimeSlot(changed[appointment.id]['startDate']) +\r\n                1;\r\n              const weekCount =\r\n                semesterInfo?.numberOfWeeks / numberOfClassPerWeek;\r\n              changed[appointment.id]['data'] = {\r\n                ...assignmentData,\r\n                numberOfClassPerWeek,\r\n                weekCount,\r\n              };\r\n            }\r\n          }\r\n\r\n          console.log(changed);\r\n          return changed[appointment.id]\r\n            ? { ...appointment, ...changed[appointment.id] }\r\n            : appointment;\r\n        });\r\n        setData(result);\r\n        setScheduleArray(props.semId, currentTimeTable?.value, result);\r\n      }\r\n      if (deleted !== undefined) {\r\n        confirmAlert({\r\n          title: 'Bạn có muốn xóa học phần này?',\r\n          buttons: [\r\n            {\r\n              label: 'Không',\r\n            },\r\n            {\r\n              label: 'Xóa',\r\n              className: 'sign-out',\r\n              onClick: () => {\r\n                const result = data.filter(\r\n                  appointment => appointment.id !== deleted,\r\n                );\r\n                setData(result);\r\n                setScheduleArray(props.semId, currentTimeTable?.value, result);\r\n                defaultSuccessCB();\r\n              },\r\n            },\r\n          ],\r\n        });\r\n      }\r\n    },\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [setData, data, currentTimeTable?.value],\r\n  );\r\n\r\n  async function populateAssignment({\r\n    index,\r\n    assignment,\r\n    lectureSchedule,\r\n    classSchedule,\r\n  }) {\r\n    const { numberOfClassPerWeek, subjectName, weekCount } = assignment;\r\n\r\n    return new Promise(resolve => {\r\n      // eslint-disable-next-line no-unused-labels\r\n      dayLoop: for (let day = 0; day < 6; day++) {\r\n        // eslint-disable-next-line no-loop-func\r\n        const isValidScheduleForClass = (startDate, endDate) => {\r\n          return classSchedule.every(item =>\r\n            isValidTimeSlot(startDate, endDate, item?.startDate, item?.endDate),\r\n          );\r\n        };\r\n        // eslint-disable-next-line no-loop-func\r\n        const isValidScheduleForLecture = (startDate, endDate) => {\r\n          return lectureSchedule.every(item =>\r\n            isValidTimeSlot(startDate, endDate, item?.startDate, item?.endDate),\r\n          );\r\n        };\r\n\r\n        // eslint-disable-next-line no-unused-labels\r\n        timeSlotLoop: for (var startSlot = 1; startSlot < 10; startSlot++) {\r\n          let endSlot = startSlot + numberOfClassPerWeek - 1;\r\n          if ((startSlot <= 5 && endSlot > 5) || endSlot > 10) {\r\n            continue;\r\n          }\r\n\r\n          console.log(startSlot, endSlot);\r\n\r\n          let startDate = new Date(\r\n            getStartTime(semesterInfo?.semesterStart, startSlot).set(\r\n              'weekday',\r\n              day,\r\n            ),\r\n          );\r\n          let endDate = new Date(\r\n            getEndTime(semesterInfo?.semesterStart, endSlot).set(\r\n              'weekday',\r\n              day,\r\n            ),\r\n          );\r\n\r\n          if (\r\n            isValidScheduleForClass(startDate, endDate) &&\r\n            isValidScheduleForLecture(startDate, endDate)\r\n          ) {\r\n            resolve({\r\n              title: subjectName,\r\n              data: assignment,\r\n              id: index,\r\n              startDate: startDate.toString(),\r\n              endDate: endDate.toString(),\r\n              startSlot,\r\n              endSlot,\r\n              rRule: 'FREQ=WEEKLY;COUNT=' + weekCount,\r\n              exDate: exDateHolidaysString(),\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  async function handlePopulatedTimeTable() {\r\n    const timeTableID = currentTimeTable?.value;\r\n    if (timeTableID in classObj && assignmentsArr?.length) {\r\n      let classSchedule = [];\r\n\r\n      for (const [index, assignment] of assignmentsArr.entries()) {\r\n        const { lectureID } = assignment;\r\n\r\n        // phân công giảng dạy của giảng viên hiện tại để tránh trùng giờ\r\n        const lectureSchedule = await getLectureScheduleArray(\r\n          props.semId,\r\n          lectureID,\r\n        );\r\n\r\n        console.log(lectureSchedule);\r\n        const resultSchedule = await populateAssignment({\r\n          index,\r\n          assignment,\r\n          lectureSchedule,\r\n          classSchedule,\r\n        });\r\n        // console.log('resultSchedule', resultSchedule);\r\n        classSchedule = [...classSchedule, resultSchedule];\r\n        console.log('classSchedule', classSchedule);\r\n      }\r\n\r\n      console.log('classSchedule', classSchedule);\r\n      setScheduleArray(props.semId, timeTableID, classSchedule).then(res =>\r\n        setData(res),\r\n      );\r\n    }\r\n  }\r\n\r\n  const allowDrag = params => {\r\n    console.log(params);\r\n    return currentTimeTable?.value in classObj;\r\n  };\r\n\r\n  const allowResize = params => false;\r\n\r\n  const appointmentComponent = props => {\r\n    if (allowDrag(props.data)) {\r\n      return <Appointments.Appointment {...props} />;\r\n    }\r\n    return (\r\n      <Appointments.Appointment\r\n        {...props}\r\n        style={{ ...props.style, cursor: 'not-allowed' }}\r\n      />\r\n    );\r\n  };\r\n\r\n  const Content = withStyles(style, { name: 'Content' })(\r\n    ({ children, appointmentData, classes, ...restProps }) => {\r\n      console.log(appointmentData);\r\n\r\n      const lectureName =\r\n          appointmentData?.data?.lectureTeaching['lecture-name'],\r\n        className = appointmentData?.data?.classTeaching?.className;\r\n\r\n      return (\r\n        <AppointmentTooltip.Content\r\n          {...restProps}\r\n          appointmentData={appointmentData}\r\n        >\r\n          <Grid className={classes.grid} container alignItems=\"center\">\r\n            <Grid item xs={2} className={classes.textCenter}>\r\n              <i class=\"fad fa-users-class\"></i>\r\n            </Grid>\r\n            <Grid item xs={10}>\r\n              <span>{className}</span>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid className={classes.grid} container alignItems=\"center\">\r\n            <Grid item xs={2} className={classes.textCenter}>\r\n              <i class=\"fad fa-user-tie\"></i>\r\n            </Grid>\r\n            <Grid item xs={10}>\r\n              <span>{lectureName}</span>\r\n            </Grid>\r\n          </Grid>\r\n        </AppointmentTooltip.Content>\r\n      );\r\n    },\r\n  );\r\n\r\n  function makeTitleForSheet({ workSheet, title }) {\r\n    // merge for title cell\r\n    workSheet.mergeCells('A1', 'I1');\r\n    workSheet.mergeCells('A2', 'I2');\r\n    // value for title cell\r\n    workSheet.getCell('A1').value = title;\r\n  }\r\n\r\n  async function handleExportCurrent() {\r\n    if (currentTimeTable?.value) {\r\n      const workBook = new ExcelJS.Workbook();\r\n      workBook.creator = 'Nguyễn Trường Minh';\r\n      workBook.created = new Date();\r\n      workBook.modified = new Date();\r\n      const name = currentTimeTable?.label,\r\n        ID = currentTimeTable?.value;\r\n\r\n      const workSheet = workBook.addWorksheet(name);\r\n      var title;\r\n      if (ID in classObj) {\r\n        const { classType, faculty } = classObj[ID];\r\n        title = `lớp: ${classType} ${faculty} ${name}`.toUpperCase();\r\n      } else if (ID in lectureObj) {\r\n        title = `giảng viên: ${name}`.toUpperCase();\r\n      } else {\r\n        title = '';\r\n      }\r\n      makeTitleForSheet({ workSheet, title });\r\n      addScheduleSheet({\r\n        workSheet,\r\n        data: data,\r\n        isLecture: currentTimeTable?.value in lectureObj,\r\n      });\r\n\r\n      const fileName = `${semesterInfo?.userNamed} - ${name}`;\r\n      workBook.xlsx.writeBuffer().then(buffer => {\r\n        const blob = new Blob([buffer], { type: 'applicationi/xlsx' });\r\n        saveAs(blob, fileName + '.xlsx');\r\n      });\r\n    }\r\n  }\r\n\r\n  async function handleExportAllClasses() {\r\n    const workBook = new ExcelJS.Workbook();\r\n    workBook.creator = 'Nguyễn Trường Minh';\r\n    workBook.created = new Date();\r\n    workBook.modified = new Date();\r\n    const allClasses = await getAllClasses(props.semId);\r\n    for (const classKey of Object.keys(allClasses)) {\r\n      const { className, classType, faculty } = allClasses[classKey];\r\n      const name = className;\r\n      const schedule = await getClassScheduleArray(props.semId, classKey);\r\n\r\n      const workSheet = workBook.addWorksheet(name);\r\n      const title = `lớp: ${classType} ${faculty} ${className}`.toUpperCase();\r\n      makeTitleForSheet({ workSheet, title });\r\n\r\n      addScheduleSheet({\r\n        workSheet,\r\n        data: schedule,\r\n        isLecture: false,\r\n      });\r\n    }\r\n\r\n    const fileName = semesterInfo?.userNamed + ' - Lớp';\r\n    workBook.xlsx.writeBuffer().then(buffer => {\r\n      const blob = new Blob([buffer], { type: 'applicationi/xlsx' });\r\n      saveAs(blob, fileName + '.xlsx');\r\n    });\r\n  }\r\n\r\n  async function handleExportAllLectures() {\r\n    const workBook = new ExcelJS.Workbook();\r\n    workBook.creator = 'Nguyễn Trường Minh';\r\n    workBook.created = new Date();\r\n    workBook.modified = new Date();\r\n    const allLectures = await getAllLectures();\r\n\r\n    for (const lectureKey of Object.keys(allLectures)) {\r\n      const name = allLectures[lectureKey]['lecture-name'];\r\n      const schedule = await getLectureScheduleArray(props.semId, lectureKey);\r\n\r\n      const workSheet = workBook.addWorksheet(name);\r\n      const title = `giảng viên: ${name}`.toUpperCase();\r\n      makeTitleForSheet({ workSheet, title });\r\n\r\n      addScheduleSheet({\r\n        workSheet,\r\n        data: schedule,\r\n        isLecture: true,\r\n      });\r\n    }\r\n\r\n    const fileName = semesterInfo?.userNamed + ' - Giảng Viên';\r\n    workBook.xlsx.writeBuffer().then(buffer => {\r\n      const blob = new Blob([buffer], { type: 'applicationi/xlsx' });\r\n      saveAs(blob, fileName + '.xlsx');\r\n    });\r\n  }\r\n\r\n  const recurrenceEditMenu = {\r\n    current: 'Tuần hiện tại',\r\n    currentAndFollowing: 'Tuần hiện tại và các tuần sau này',\r\n    all: 'Tất cả các tuần học',\r\n    cancelButton: 'Hủy',\r\n    commitButton: 'Xác nhận',\r\n    menuEditingTitle: 'Chỉnh sửa tiết học',\r\n    menuDeletingTitle: 'Xóa tiết học',\r\n  };\r\n\r\n  return isLoading ? (\r\n    <Loading />\r\n  ) : (\r\n    <>\r\n      {exists(context) && (\r\n        <div style={{ height: '100%' }}>\r\n          <header style={{ display: 'flex', marginBottom: 10 }}>\r\n            {exists(groupedOptions) && (\r\n              <Select\r\n                className=\"basic-single\"\r\n                classNamePrefix=\"select\"\r\n                isClearable={true}\r\n                isSearchable={true}\r\n                name=\"timetable-id\"\r\n                onChange={setCurrentTimeTable}\r\n                options={groupedOptions}\r\n                placeholder=\"Thời Khóa Biểu\"\r\n                styles={{\r\n                  container: provided => ({\r\n                    ...provided,\r\n                    zIndex: 100,\r\n                  }),\r\n                  option: (provided, state) => ({\r\n                    ...provided,\r\n                    color: state.isSelected ? 'darkgray' : 'black',\r\n                  }),\r\n                  control: provided => ({\r\n                    ...provided,\r\n                    width: 500,\r\n                    maxHeight: 400,\r\n                    marginRight: 10,\r\n                    overFlow: 'hidden',\r\n                  }),\r\n                }}\r\n              />\r\n            )}\r\n            <h1 style={{ marginRight: 10 }}>\r\n              <Popup\r\n                trigger={\r\n                  <span style={{ cursor: 'pointer', fontSize: 16 }}>\r\n                    <i className=\"fal fa-info-circle\"></i>\r\n                  </span>\r\n                }\r\n                style={{\r\n                  border: '1px solid whitesmoke',\r\n                  background: '#263238',\r\n                  padding: 10,\r\n                  borderRadius: 5,\r\n                  zIndex: 20,\r\n                }}\r\n                position=\"bottom left\"\r\n              >\r\n                <Popup.Header>\r\n                  <h5>\r\n                    {!currentTimeTable?.value\r\n                      ? 'Thông tin lớp hoặc giảng viên'\r\n                      : currentTimetableInfo?.classType\r\n                      ? 'Thông tin lớp'\r\n                      : 'Thông tin giảng viên'}\r\n                  </h5>\r\n                </Popup.Header>\r\n                <Popup.Content style={{ paddingTop: 5 }}>\r\n                  {currentTimeTable?.value ? (\r\n                    <ul>\r\n                      <li>\r\n                        <b>Khoa: </b>\r\n                        {currentTimetableInfo?.faculty}\r\n                      </li>\r\n                      {currentTimetableInfo?.classSize && (\r\n                        <li>\r\n                          <b>Sĩ Số: </b>\r\n                          {currentTimetableInfo?.classSize}\r\n                        </li>\r\n                      )}\r\n                      {currentTimetableInfo?.classType && (\r\n                        <li>\r\n                          <b>Hệ: </b>\r\n                          {currentTimetableInfo?.classType}\r\n                        </li>\r\n                      )}\r\n                      <li>\r\n                        <b>\r\n                          Số Học Phần\r\n                          {exists(currentTimetableInfo?.classSize) ||\r\n                            ' Giảng Dạy'}\r\n                          :{' '}\r\n                        </b>\r\n                        {assignmentsArr?.length}\r\n                      </li>\r\n                    </ul>\r\n                  ) : (\r\n                    'Chọn một lớp hoặc giảng viên để hiển thị thông tin'\r\n                  )}\r\n                </Popup.Content>\r\n              </Popup>\r\n            </h1>\r\n            {currentTimeTable?.value in classObj && (\r\n              <Button\r\n                style={{ marginRight: 5 }}\r\n                disabled={Object.keys(lectureObj)?.includes(\r\n                  currentTimeTable?.value,\r\n                )}\r\n                onClick={handlePopulatedTimeTable}\r\n              >\r\n                Xếp thời khóa biểu\r\n              </Button>\r\n            )}\r\n            <Button\r\n              aria-controls=\"fade-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={e => setAnchorEl(e.currentTarget)}\r\n            >\r\n              Xuất tệp Excel\r\n            </Button>\r\n            <Menu\r\n              id=\"fade-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={() => setAnchorEl(null)}\r\n              TransitionComponent={Fade}\r\n            >\r\n              {exists(currentTimeTable?.value) && (\r\n                <MenuItem\r\n                  onClick={() => {\r\n                    handleExportCurrent();\r\n                    setAnchorEl(null);\r\n                  }}\r\n                >\r\n                  {currentTimeTable?.label}\r\n                </MenuItem>\r\n              )}\r\n              <MenuItem\r\n                onClick={async () => {\r\n                  await handleExportAllLectures();\r\n                  setAnchorEl(null);\r\n                }}\r\n              >\r\n                Tất cả giảng viên\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={async () => {\r\n                  await handleExportAllClasses();\r\n                  setAnchorEl(null);\r\n                }}\r\n              >\r\n                Tất cả lớp\r\n              </MenuItem>\r\n            </Menu>\r\n          </header>\r\n          <div>\r\n            <Paper style={{ zIndex: 10 }} elevation={3}>\r\n              {!!currentTimeTable || (\r\n                <Backdrop\r\n                  open={true}\r\n                  style={{ zIndex: 20, position: 'relative', height: '100%' }}\r\n                >\r\n                  <h2>\r\n                    Chọn một giảng viên hoặc lớp học để hiện thời khóa biểu\r\n                  </h2>\r\n                </Backdrop>\r\n              )}\r\n              <Scheduler data={data} firstDayOfWeek={1} locale=\"vi-VN\">\r\n                <ViewState\r\n                  defaultCurrentDate={semesterInfo?.semesterStart}\r\n                  currentDate={\r\n                    currentDateViewState ?? semesterInfo?.semesterStart\r\n                  }\r\n                  onCurrentDateChange={setCurrentDateViewState}\r\n                />\r\n                <EditingState onCommitChanges={onCommitChanges} />\r\n                <EditRecurrenceMenu messages={recurrenceEditMenu} />\r\n                <WeekView\r\n                  startDayHour={7}\r\n                  endDayHour={11.35}\r\n                  cellDuration={55}\r\n                />\r\n                <Appointments appointmentComponent={appointmentComponent} />\r\n                <Toolbar />\r\n                <DateNavigator />\r\n                <TodayButton messages={{ today: 'Hôm nay' }} />\r\n                <AppointmentTooltip\r\n                  showDeleteButton\r\n                  showCloseButton\r\n                  contentComponent={Content}\r\n                />\r\n                <DragDropProvider\r\n                  scrollSpeed={55}\r\n                  {...{ allowDrag, allowResize }}\r\n                />\r\n                <TaskLimiter />\r\n              </Scheduler>\r\n              <Scheduler data={data} firstDayOfWeek={1} locale=\"vi-VN\">\r\n                <ViewState\r\n                  defaultCurrentDate={semesterInfo?.semesterStart}\r\n                  currentDate={\r\n                    currentDateViewState ?? semesterInfo?.semesterStart\r\n                  }\r\n                  onCurrentDateChange={setCurrentDateViewState}\r\n                />\r\n                <WeekView\r\n                  startDayHour={13}\r\n                  endDayHour={17.5}\r\n                  cellDuration={55}\r\n                  dayScaleLayoutComponent={() => (\r\n                    <div\r\n                      style={{\r\n                        padding: 10,\r\n                      }}\r\n                    >\r\n                      Giờ Nghỉ Trưa\r\n                    </div>\r\n                  )}\r\n                />\r\n                <EditingState onCommitChanges={onCommitChanges} />\r\n                <EditRecurrenceMenu messages={recurrenceEditMenu} />\r\n                <Appointments appointmentComponent={appointmentComponent} />\r\n                <AppointmentTooltip\r\n                  showDeleteButton\r\n                  showCloseButton\r\n                  contentComponent={Content}\r\n                />\r\n                <DragDropProvider\r\n                  scrollSpeed={55}\r\n                  {...{ allowDrag, allowResize }}\r\n                />\r\n                <TaskLimiter />\r\n              </Scheduler>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst TimeTableNav = props => {\r\n  const context = useContext(SemContext);\r\n\r\n  const { semesterInfo } = context;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"timetable-nav\">\r\n        <h3 style={{ marginRight: 10 }}>\r\n          {exists(semesterInfo) && semesterInfo['userNamed']}\r\n        </h3>\r\n        <LinkButton to=\"mng-classes\" style={{ marginRight: 10 }}>\r\n          Lớp\r\n        </LinkButton>\r\n        <LinkButton to=\"mng-assignments\" style={{ marginRight: 10 }}>\r\n          Phân công giảng dạy\r\n        </LinkButton>\r\n        <LinkButton to=\"scheduler\">Thời khóa biểu</LinkButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Home = props => {\r\n  return <></>;\r\n};\r\n\r\nconst TimeTable = props => {\r\n  const { semId } = props;\r\n\r\n  return (\r\n    <>\r\n      <SemProvider {...{ semId }}>\r\n        <TimeTableNav />\r\n        <div className=\"mng-container\" style={{ height: 'calc(100% - 47px)' }}>\r\n          <Router style={{ height: '100%' }}>\r\n            <Home path=\"/\" />\r\n            <TimeTableScheduler path=\"scheduler\" />\r\n            <ManageClass path=\"mng-classes\" />\r\n            <ManageAssignments path=\"mng-assignments\" />\r\n            <NotFound default />\r\n          </Router>\r\n        </div>\r\n      </SemProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TimeTable;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Router } from \"@reach/router\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\n\r\n// import styles\r\nimport \"../App.css\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\n\r\n// import components\r\nimport NavBar from \"./NavBar\";\r\nimport LeftMenu from \"./LeftMenu\";\r\n\r\n// import screens\r\nimport Home from \"./screens/Homepage/Home\";\r\nimport TimeTableNew from \"./screens/TimeTableNew\";\r\nimport TeacherTimeTable from \"./screens/TeacherTimeTable\";\r\nimport ScheduleTimeTable from \"./screens/ScheduleTimeTable\";\r\nimport ManageFaculties from \"./screens/management/ManageFaculties\";\r\nimport ManageLecture from \"./screens/management/ManageLectures\";\r\nimport ManageSubjects from \"./screens/management/ManageSubjects\";\r\nimport TimeTables from \"./screens/TimeTables\";\r\nimport TimeTable from \"./screens/timetable/TimeTable\";\r\nimport NotFound from \"./screens/NotFound\";\r\n\r\nconst Application = () => {\r\n  const [leftMenuVisible, setLeftMenuVisible] = useState(true);\r\n  const currentUser = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth <= 1000) {\r\n        setLeftMenuVisible(false);\r\n      }\r\n      if (window.innerWidth > 1000) {\r\n        setLeftMenuVisible(true);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      handleResize();\r\n    });\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []); // hide left menu on resize window or if device width is small\r\n\r\n  useEffect(() => {\r\n    let numberInput = document.querySelectorAll(\"input[type='number']\");\r\n\r\n    numberInput.forEach((elem) => {\r\n      elem.addEventListener(\"keypress\", function (e) {\r\n        if ((e.which != 0 && e.which != 8 && e.which < 48) || e.which > 57) {\r\n          e.preventDefault();\r\n        }\r\n      });\r\n    });\r\n  }, []); // set all input with type = number can only type number\r\n\r\n  const handleHamburgerClick = () => {\r\n    setLeftMenuVisible((prev) => !prev);\r\n  }; // toggle left menu\r\n\r\n  return (\r\n    <>\r\n      <NavBar\r\n        onLogoClick={() => {\r\n          setLeftMenuVisible(false);\r\n        }}\r\n        onHamburgerClick={handleHamburgerClick}\r\n        showHamburger={currentUser}\r\n      />\r\n      <main id=\"application\">\r\n        {currentUser && (\r\n          <LeftMenu visible={leftMenuVisible} showScheduler={true} />\r\n        )}\r\n        <Router className=\"main-container\" id=\"main-container\">\r\n          <Home path=\"/\" />\r\n          <TeacherTimeTable path=\"teacher-time-table\" />\r\n          <ScheduleTimeTable path=\"schedule-timetable\" />\r\n          <ManageFaculties path=\"mng-faculties\" />\r\n          <ManageLecture path=\"mng-lectures\" />\r\n          <ManageSubjects path=\"mng-subjects\" />\r\n          <TimeTableNew path=\"new-timetable\" />\r\n          <TimeTables path=\"timetable\" {...{ setLeftMenuVisible }} />\r\n          <TimeTable path=\"timetable/:semId/*\" />\r\n          <NotFound default />\r\n        </Router>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Application;\r\n","import React from \"react\";\r\n\r\n// import component\r\nimport UserProvider from \"./providers/UserProvider\";\r\nimport Application from \"./components/Application\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\n// import \"semantic-ui-css/semantic.min.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n  },\r\n});\r\n\r\nconst App = () => {\r\n  return (\r\n    <ThemeProvider theme={darkTheme}>\r\n      <UserProvider>\r\n        <ToastContainer\r\n          position=\"bottom-right\"\r\n          autoClose={2000}\r\n          hideProgressBar={false}\r\n          pauseOnHover\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          draggable\r\n        />\r\n        <Application />\r\n      </UserProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}